/* TencentVideo FE @ 2017/9/7 16:1:44. V2.0.0 Copyright (c) 2017 */ 
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.uploader=e():t.uploader=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(){}function a(t){var e=this,a=t.onClose||i,r=t.onSave||i,u=t.config||{},p=u.bid,h=u.businessID;p&&s.set("bid",p),h&&s.set("businessID",h);t.settings;l.set(t.settings);var f=l.get("disableSaveBeforeUploaded"),v=(l.get("closeAfterSaved"),l.get("isDescRequired")),g=this.$view=new o({replace:!0,template:n(73),data:{disableSaveBeforeUploaded:f,isDescRequired:v},ready:function(){c.on("upload:selectError",this._errorToast)},destroy:function(){c.off("upload:selectError",this._errorToast)},methods:{_errorToast:function(t){this.$refs.toast.show({isOk:!1,msg:t,onClose:function(){}})},_onClose:function(){g.$refs.uploadPanel.close()},_onUploaderClose:function(){e.$hide(),a()},_onSaveSuccess:function(t){r(t)}}});this.$el=g.$el,this.$hide(),c.on("upload:selectSuccess",function(){d(".j_first_page").hide(),d(".j_second_page").show(),e.$show()})}var o=n(9),s=n(10),r=n(11),c=(n(7),n(15),n(12)),l=n(61),d=n(2);n(24),n(71),a.prototype.$set=function(t,e){return s.set(t,e),this},a.prototype.$upload=function(){return this.$view.$refs.uploadPanel.select(),this},a.prototype.$selectButton=function(t){return r.selectButton(t,tvu.UploadType.FLASH),this},a.prototype.$show=function(){return d(this.$el).find(".om-uploader-panel").show(),this},a.prototype.$hide=function(){return d(this.$el).find(".om-uploader-panel").hide(),this},a.prototype.$on=function(t,e){c.on("upload:"+t,function(t){var n={code:t.errorCode||"",errorMsg:t.errorMsg||"",vid:t.vid||"",data:t};e&&e(n)})},a.prototype.$phonebind=function(){this.$view.$refs.tipsPhoneBind.checkRealName()},window.uploader=t.exports=a},,function(t,e){"use strict";t.exports=window.$j||window.$||window.jQuery},,,,function(t,e,n){"use strict";function i(t){var e=[];return s.objEach(t,function(t,n){var i=t+"="+encodeURIComponent(n);e.push(i)}),e.length>0?e.join("&"):""}function a(t){var e=i(t),n=r+e;new Image(1,1).src=n}function o(){c.url=location.href,c.uin=txv.login.getUin(),c.target=""}var s=n(7),r="http://btrace.qq.com/kvcollect?BossId=4058&Pwd=426519366&",c={url:location.href,uin:txv.login.getUin(),target:"",ua:navigator.userAgent},l={};t.exports={config:function(t){c=s.extend(c,t)},report:function(t){o(),c=s.extend(c,t),a(c)},reportOnce:function(t,e){l[t]||(l[t]=!0,this.report(e))}}},function(t,e,n){"use strict";var i=n(8),a={};t.exports=i.extend({},i,{slice:function(t){if(!t||!t.length)return[];for(var e=t.length,n=[],i=0;i<e;i++)n.push(t[i]);return n},cookie:{get:function(t){for(var e=document.cookie,n=e.split(";"),i=0,a=n.length;i<a;i++){var o=n[i].split("="),s=o[0]||"";s=s.replace(/\W+/,"");var r=o[1]||"";if(s===t)return r}}},getCoverSrcByVid:function(t,e){if(a[t]){var n=a[t];return e?n+"?t="+(new Date).getTime():n}var i=location.protocol+"//vpic.video.qq.com/",o=function(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)+e+t.charCodeAt(n);return e%1e8}(t),s=i+o+"/"+t+"_160_90_3.jpg";return a[t]=s,e?s+"?t="+(new Date).getTime():s}})},function(t,e){"use strict";function n(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var i={escape:function(t){return t?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):""},type:function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=/\[object (\w+)\]/.exec(Object.prototype.toString.call(t));return e?e[1].toLowerCase():""},keys:function(t){var e=[];return t?Object.keys?Object.keys(t):(this.objEach(t,function(t){e.push(t)}),e):e},bind:function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},extend:function(t){if("object"!=this.type(t)&&"function"!=this.type(t))return t;for(var e,i,a=1,o=arguments.length;a<o;a++){e=arguments[a];for(i in e)n(e,i)&&(t[i]=e[i])}return t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/gm,"")},indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);var n=-1;return i.some(t,function(t,i){if(t===e)return n=i,!0}),n},forEach:function(t,e){if(t.forEach)return t.forEach(e);for(var n=t.length,i=0;i<n;i++)e(t[i],i);return t},some:function(t,e){if(t.some)return t.some(e);for(var n=t.length,i=!1,a=0;a<n;a++)if(e(t[a],a)){i=!0;break}return i},map:function(t,e){if(t.map)return t.map(e);for(var n=t.length,i=[],a=0;a<n;a++)i.push(e(t[a],a));return i},objEach:function(t,e){if(t)for(var i in t)if(n(t,i)&&!1===e(i,t[i]))break},reduce:function(t,e){if("function"!=i.type(e))throw new TypeError("Array.prototype.reduce callback must be a function");var n=t.length;if(0===n&&2===arguments.length)throw new TypeError("reduce of empty array with no initial value");var a,o=0;if(arguments.length>=3)a=arguments[2];else for(;;){if(o in t){a=t[o++];break}if(++o>=n)throw new TypeError("reduceRight of empty array with no initial value")}for(;o<n;o++)a=e(a,t[o],o,t);return a},filter:function(t,e,n){if(t.filter)return t.filter(e);for(var i=t.length,a=[],o=0;o<i;o++){var s=t[o];e.call(n,s,o,t)&&a.push(s)}return a},nextTick:function(){var t=this;return function(){setTimeout.apply(t,arguments)}}(),lock:function(t){var e;return function(){if(!e){e=!0;var n=[].slice.call(arguments,0);n.unshift(function(){e=!1}),t.apply(this,n)}}},queue:function(t,e){function n(){var t=a.shift();if(!t)return void(o=e);o--;var s=t[0],r=t[1],c=t[2];c.unshift(function(){o++,n.apply(this,arguments)}),i.nextTick(function(){return s.apply(r,c)})}e=e||1;var a=[],o=e;return function(){if(a.push([t,this,[].slice.call(arguments,0)]),o)return n()}},delegator:function(t){var e,n=[];return function(a){if(e)return n.push(a);e=!0,t.call(this,function(){e=!1;var t=this,o=arguments;a&&a.apply(t,o),i.forEach(n,function(e){e&&e.apply(t,o)})})}},once:function(t){var e,n=arguments;return function(){if(!e&&t)return e=!0,t.apply(n.length>=2?n[1]:null,arguments)}},verCompare:function(t,e){if(t===e)return 0;t=t.split("."),e=e.split(".");for(var n=t.length>=e.length?t.length:e.length,i=0;n--;){var a=Number(t[i]||0),o=Number(e[i++]||0);if(o>a)return 1;if(o<a)return-1}return 0}};t.exports=i},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){t=t||{};var e=this,n=m.namespace,i=t.ready,a=t.created,s=t.destroy,l=!g.hasOwn(t,"binding")||t.binding;this.$id=U++,this.$name=t.name||"",this.$parent=t.parent||null,this.$binding=!!l,this.$shouldUpdate=t.shouldUpdate,this.$directives=[],this.$components=[],this._$beforeDestroy=function(){o(m[P],s,e)};var f=t.el,v=!!g.hasOwn(t,"replace")&&t.replace;if("string"==g.type(f)){var y=f;if(T?f=document.querySelector(y):/^\./.test(y)?(f=h(y.replace(/^\./,"")))&&(f=f[0]):f=/^#/.test(y)?document.getElementById(y.replace(/^#/,"")):null,!f)return $.error("Can't resolve element by \""+y+'"')}var b=_.Element(f);if(b&&t.template)if(g.hasAttribute(f,n+"notemplate")||t.notemplate);else if(v){var x=u(t.template),w=p(x);if(!w.length)throw new Error("Component with '"+n+"replace' must has a child element of template.",t.template);var C=w[0],S=f.parentNode;S&&S.replaceChild(C,f),d(f,C),f=C}else _.Fragment(f)?$.warn('Container element should\'nt a fragment node when "template" is given. Template:\n',t.template):f.innerHTML=t.template;else if(!f&&t.template){if(v){var k=u(t.template);f=p(k)[0],f||$.warn("Component's template should has a child element when using 'replace' option.",t.template)}f||(f=document.createElement("div"),f.innerHTML=t.template)}else{if(!b)throw new Error('illegal "el" option.');if(v){var w=_.Fragment(f)?p(f):f.children,j=w&&w.length;if(!j&&$.warn('Component\'s container element should has children when "replace" option given.'),j){var E=f;f=w[0],E.parentNode&&E.parentNode.replaceChild(f,E)}}}var F,q=n+"component";v&&g.hasAttribute(f,q)&&I(f,q)!==t.name?F=!0:(r(f,q),c(f,"_"+n+"cid",this.$id)),this.$methods={},this.$refs={};var M=A(t.data),O=this._$parseProps(f),L=A(t._data);this.$data=g.extend(M,O,L),g.objEach(t.methods,function(t,n){e.$methods[t]=e[t]=g.bind(n,e)}),o(m[P],a,e),this.$el=f;var R=this.$compile(f);F&&(this.$el=R),o(m[P],i,e)}function a(t){function e(e){var o=A(t.data),s=g.extend({},t,e,{data:e?A(e.data):null});s.methods=g.extend({},n,s.methods),s.data=g.extend({},o,s.data),this.$classid=a,i.call(this,s)}var n=t.methods,a=L++;return e.__id=a,g.inherit(e,i),e}function o(t,e,n){if(e)if(t)try{e.call(n)}catch(t){$.errorTrace(t)}else e.call(n)}function s(t,e,n){if(!M(t))return{};t=t.replace(m.directiveSep_regexp,",").replace(/,\s*}$/,"}");var i=j(e,t,n);return i[0]?{}:i[1]}function r(t,e){return t&&t.removeAttribute(e)}function c(t,e,n){return t&&t.setAttribute&&t.setAttribute(e,n)}function l(t,e){if(M(t)&&M(e)){var n=m.directiveSep,i=O(e)+n+O(t),a={};return g.forEach(i.split(n),function(t){if(t=g.trim(t)){var e,n;n=t.replace(/^[^:]+\:/,function(t){return e=g.trim(t.replace(/:$/,"")),""}),e&&(a[e]=n)}}),C.wrapExpr(g.map(g.keys(a),function(t){return t+":"+a[t]}).join(n))}return t}function d(t,e){var n=g.slice(t.attributes),i=g.map(["data","style","methods","attr","on","props"],function(t){return m.namespace+t});return g.forEach(n,function(t){var n=t.name,a=t.value;if("function"!=g.type(a)&&(!/^on/.test(n)||"null"!==a))try{if("class"==n)return void(e.className=e.className+(e.className?" ":"")+a);g.some(i,function(t){return n===t})&&(a=l(a,I(e,n))),e.setAttribute(n,a)}catch(t){$.warn("set attribute fail:"+t+", name:"+n+", value:"+a)}}),e}function u(t){var e,n=/^\s*<(th|tr|td|thead|tbody)\b/i.exec(t),i=document.createDocumentFragment(),a=document.createElement("div");if(n)switch(n[1].toLowerCase()){case"thead":case"tbody":a.innerHTML="<table>"+t+"</table>",e=a.childNodes[0].childNodes;break;case"th":case"tr":a.innerHTML="<table><tbody>"+t+"</tbody></table>",e=a.childNodes[0].childNodes[0].childNodes;break;case"td":a.innerHTML="<table><tbody><tr>"+t+"</tr></tbody></table>",e=a.childNodes[0].childNodes[0].childNodes[0].childNodes}for(e||(a.innerHTML=t,e=a.childNodes);e.length;)i.appendChild(e[0]);return i}function p(t){var e=[];return g.forEach(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e}function h(t){if(document.getElementsByClassName)return document.getElementsByClassName(t);var e,n,i,a=document,o=[];if(a.querySelectorAll)return a.querySelectorAll("."+t);if(a.evaluate)for(n=".//*[contains(concat(' ', @class, ' '), ' "+t+" ')]",e=a.evaluate(n,a,null,0,null);i=e.iterateNext();)o.push(i);else for(e=a.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+t+"(\\s|$)"),i=0;i<e.length;i++)n.test(e[i].className)&&o.push(e[i]);return o}function f(){}var v=n(1),g=n(2),m=n(5),_=n(4),y=n(6),$=n(7),b=n(8),x=n(9),w=n(11),C=n(10),S=n(12),k=n(3),T=k.supportQuerySelector,j=n(13),E={},F={},q=[],M=C.isExpr,O=C.strip,I=g.getAttribute,U=0,A=function(t){return("function"==g.type(t)?t():t)||{}},P="CATCH".toLowerCase();i.prototype._$parseProps=function(t){var e=m.namespace+"props",n=I(t||this.$el,e);return r(t||this.$el,e),n?s(n,this,e):null},i.prototype.$set=function(t){var e="string"==g.type(t)?t:"";e?(t=arguments[1],b.set(this.$data,e,t)):this.$data=g.extend(this.$data,t),this.$update()},i.prototype.$root=function(){for(var t=this;t.$parent;)t=t.$parent;return t||null},i.prototype.$compile=function(t,e){function n(t,n,i){if(!T||!~g.indexOf(k,t)){var o=t._diretives||[];if(!o||!~g.indexOf(o,i)){var s=p[i],c=I(t,n)||"";o.push(n),t._diretives=o,r(t,n);var l=new S(d,t,s,n,c,e);a.push(l)}}}"string"==g.type(t)&&(t=u(t));var i=m.namespace,a=e?e.$directives:this.$directives,o=e?e.$components:this.$components,l=i+"component",d=this,p=g.extend({},x,w,F),h=g.keys(p),f=g.keys(w).concat(q),v=[l].concat(g.map(f,function(t){return m.namespace+t})),_=y(t,v,g.map(h,function(t){return m.namespace+t}));if(T){var b=v,C=[];g.forEach(b,function(t){return g.forEach(b,function(e){C.push("["+t+"] ["+e+"]")})});var k=g.slice(t.querySelectorAll(C))}var j,M=_(g.map(f,function(t){return"["+m.namespace+t+"]"})),U=_(["["+l+"]"]),A=function(t){if(!(t._component||T&&~g.indexOf(k,t))){var e=I(t,l);if(!e)return $.error(l+" missing component id.",t);var n=E[e];if(!n)return void $.error("Component '"+e+"' not found.");if(n.__id===d.$classid)return void $.error("Component in circular instance.",t);t._component=e;var a=I(t,i+"ref"),u=I(t,i+"data"),p=I(t,i+"methods"),h=I(t,i+"binding"),f=I(t,i+"updateid")||"",v=I(t,i+"replace"),m={},_={},y={};v=!!g.hasAttribute(t,i+"replace")&&("true"==v||"1"==v),r(t,l),g.forEach(["ref","data","methods","binding","replace"],function(e){r(t,i+e)}),u&&(m=s(u,this,i+"data"),y=g.immutable(m)),p&&(_=s(p,this,i+"methods"));var b=d._$parseProps(t)||{},x=new n({el:t,_data:g.extend(b,m),name:e,parent:d,methods:_,binding:"false"!==h&&"0"!==h,replace:!!v});c(x.$el,"_"+i+"component",e),a&&(this.$refs[a]=x),x.$updateId=f||"";var w=x.$update;return x.$componentShouldUpdate=function(){var t=this.$shouldUpdate,e=s(u,d);if(u&&g.diff(y,e)){if(t&&!t.call(x,e,y))return;y=g.immutable(e),x.$data=g.extend(x.$data,e),w&&w.apply(x,arguments)}},o.push(x),x.$el}};return g.hasAttribute(t,l)&&(j=A.call(this,t)),g.forEach(U,g.bind(A,this)),g.forEach(M,function(t){g.some(f,function(e){var i=m.namespace+e;if(g.hasAttribute(t,i))return n(t,i,e),!0})}),g.forEach(g.keys(p),function(n){var o=p[n];n=i+n;var s=g.slice(_(["["+n+"]"]));g.hasAttribute(t,n)&&s.unshift(t),g.forEach(s,function(t){var i=t._diretives||[],s=I(t,n)||"";if(!i||!~g.indexOf(i,n)){r(t,n),i.push(n),t._diretives=i;var c,l=m.directiveSep;o.multi&&s.match(l)?g.forEach(O(s).split(l),function(i){g.trim(i)&&(c=new S(d,t,o,n,"{"+i+"}",e),a.push(c))}):(c=new S(d,t,o,n,s,e),a.push(c))}})}),j||t},i.prototype.$appendTo=function(t,e){if(!t||!t.$el)throw new Error("Unvalid parent viewmodel instance.");this.$parent=t,e=e||function(t,e){e.appendChild(t)},e.call(this,this.$el,t.$el)},i.prototype.$update=function(t,e){var n=this.$components,i=this.$directives;if(t&&t.length){var a="array"==g.type(t),o=function(n){return function(i){a&&!~t.indexOf(i.$updateId)||(a||i.$updateId===t)&&("function"==g.type(e)?e.call(i,n,i.$updateId)&&i.$update():i.$update())}};return g.forEach(n,o("component")),g.forEach(i,o("directive"))}g.forEach(n,function(t){t.$binding&&(t.$componentShouldUpdate?t.$componentShouldUpdate():t.$update())}),g.forEach(i,function(t){t.$update()})},i.prototype.$destroy=function(){this.$destroyed||(this._$beforeDestroy&&this._$beforeDestroy(),g.forEach(this.$components,function(t){t.$destroy()}),g.forEach(this.$directives,function(t){t.$destroy()}),this.$el=this.$components=this.$directives=this.$data=this.$methods=this.$refs=null,this.$set=this.$update=this.$compile=this.$root=this.$appendTo=f,this.$destroyed=!0)};var L=0;i.create=function(t){return a(t)},i.component=function(t,e){var n=a(e);return E[t]=n,n},i.directive=function(t,e){e.scoped&&q.push(t),F[t]=e},i.set=function(t,e){return m[t]=e,i},i.$=v,i.util=g,i.consoler=$,t.exports=i},function(t,e,n){"use strict";function i(t){if("string"==l.type(t))return a(l.copyArray(document.querySelectorAll(t)));if("array"==l.type(t))return a(t);if(t instanceof a)return t;if(d.DOM(t))return a(new o(t));throw new Error("Unexpect selector !")}function a(t){if(t instanceof a)return t;var e=new o;return l.forEach(t,function(t){e.push(t)}),e}function o(){var t=l.slice(arguments),e=this;this.push=function(n){t.push(n),e[t.length-1]=n,e.length=t.length},this.forEach=function(e){l.forEach(t,e)},this.forEach(function(t,n){e[n]=t}),this.length=t.length}function s(t){return t&&t.parentNode}function r(){return document.createDocumentFragment()}function c(t,e){return t.appendChild(e)}var l=n(2),d=n(4);o.prototype=a.prototype;var u=a.prototype;u.find=function(t){var e=[];return this.forEach(function(n){e=e.concat(l.copyArray(n.querySelectorAll(t)))}),a(e)},u.attr=function(t,e){var n=arguments.length,i=this[0];if(n>1)i.setAttribute(t,e);else if(1==n)return(i.getAttribute(t)||"").toString();return this},u.removeAttr=function(t){return this.forEach(function(e){e.removeAttribute(t)}),this},u.addClass=function(t){return this.forEach(function(e){var n=e.className.split(/\s+/);~l.indexOf(n,t)||n.push(t),e.className=n.join(" ")}),this},u.removeClass=function(t){return this.forEach(function(e){var n=e.className.split(" "),i=l.indexOf(n,t);~i&&n.splice(i,1),e.className=n.join(" ")}),this},u.hasClass=function(t){if(!this[0])return!1;var e=this[0].className.split(" ");return!!~l.indexOf(e,t)},u.each=function(t){return this.forEach(t),this};var p=!document.addEventListener;u.on=function(t,e,n){return this.forEach(function(i){p?i.attachEvent("on"+t,e):i.addEventListener(t,e,n)}),this},u.off=function(t,e,n){return this.forEach(function(i){p?i.detachEvent("on"+t,e):i.removeEventListener(t,e,n)}),this},u.html=function(t){if(arguments.length>=1)this.forEach(function(e){e.innerHTML=t});else if(this.length)return this[0].innerHTML;return this},u.parent=function(){return this.length?a([s(this[0])]):null},u.remove=function(){return this.forEach(function(t){var e=s(t);e&&e.removeChild(t)}),this},u.insertBefore=function(t){var e;return this.length?(1==this.length?e=this[0]:(e=r(),this.forEach(function(t){c(e,t)})),s(t).insertBefore(e,t),this):this},u.insertAfter=function(t){var e;return this.length?(1==this.length?e=this[0]:(e=r(),this.forEach(function(t){c(e,t)})),s(t).insertBefore(e,t.nextSibling),this):this},u.get=function(t){return this[t]},u.append=function(t){return this.length&&c(this[0],t),this},u.appendTo=function(t){if(1==this.length)c(t,this[0]);else if(this.length>1){var e=r();this.forEach(function(t){c(e,t)}),c(t,e)}},u.replace=function(t){var e=this[0];return s(e).replaceChild(t,e),this},t.exports=i},function(t,e,n){"use strict";function i(t,e){return t&&t.hasOwnProperty(e)}function a(t){var e=c[t];if(e)return e;r.innerHTML=t;var n=r.childNodes;return e=n&&n.length?n[0].nodeValue:t,c[t]=e,e}var o=n(3),s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},r=document.createElement("div"),c={},l=new RegExp(function(t){var e=[];for(var n in t)i(t,n)&&e.push(n);return e}(s).join("|"),"g"),d={type:function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=/\[object (\w+)\]/.exec(Object.prototype.toString.call(t));return e?e[1].toLowerCase():""},keys:function(t){var e=[];return t?Object.keys?Object.keys(t):(this.objEach(t,function(t){e.push(t)}),e):e},bind:function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},extend:function(t){if("object"!=this.type(t))return t;for(var e,n,i=1,a=arguments.length;i<a;i++){e=arguments[i];for(n in e)t[n]=e[n]}return t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/gm,"")},indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);var n=-1;return d.some(t,function(t,i){if(t===e)return n=i,!0}),n},forEach:function(t,e){if(t.forEach)return t.forEach(e);for(var n=t.length,i=0;i<n;i++)e(t[i],i);return t},some:function(t,e){if(t.some)return t.some(e);for(var n=t.length,i=!1,a=0;a<n;a++)if(e(t[a],a)){i=!0;break}return i},map:function(t,e){if(t.map)return t.map(e);for(var n=t.length,i=[],a=0;a<n;a++)i.push(e(t[a],a));return i},objEach:function(t,e){if(t)for(var n in t)if(i(t,n)&&!1===e(n,t[n]))break},domRange:function(t,e,n){for(var i=[],a=t.childNodes,o=!1,s=0;s<a.length;s++){var r=a[s];if(r===n)break;o?i.push(r):r==e&&(o=!0)}return i},immutable:function(t){var e,n=this,i=this.type(t);return"array"==i?e=d.map(t,function(t){return n.immutable(t)}):"object"==i?(e={},this.objEach(t,function(t,i){e[t]=n.immutable(i)})):e=t,e},diff:function(t,e,n){var i=this;if((n=void 0===n?5:n)<=0)return t!==e;if("array"==this.type(t)&&"array"==this.type(e))return t.length!==e.length||d.some(t,function(t,a){return i.diff(t,e[a],n-1)});if("object"==this.type(t)&&"object"==this.type(e)){var a=d.keys(t),o=d.keys(e);if(a.length!=o.length)return!0;var i=this;return d.some(a,function(a){return!~d.indexOf(o,a)||i.diff(t[a],e[a],n-1)})}return t!==e},slice:function(t){if(!t||!t.length)return[];if(t.slice)return t.slice(0);for(var e=t.length,n=[],i=0;i<e;i++)n.push(t[i]);return n},walk:function(t,e){var n=this;if(!1!==e(t)){var i=d.slice(t.childNodes);d.forEach(i,function(t){n.walk(t,e)})}},isUndef:function(t){return void 0===t},escape:function(t){return"string"!==this.type(t)?t:t.replace(l,function(t){return s[t]})},hasOwn:i,hasAttribute:function(t,e){return t.hasAttribute?t.hasAttribute(e):!!t.getAttribute&&null!==t.getAttribute(e)},getAttribute:function(t,e){return t&&t.getAttribute(e)},split:function(t,e){if(o.ie&&o.ie<=8){return t=t.replace(e,function(){return"[￳|￴]"}),t.split("[￳|￴]")}return t.split(e)},inherit:function(t,e){function n(){}return n.prototype=e.prototype,t.prototype=new n,t},entity:function(t){return t&&t.replace?t.replace(/(&[#a-zA-Z0-9]+;)/g,function(t,e){return a(e)}):t}};t.exports=d},function(t,e){"use strict";var n=function(){for(var t=3,e=document.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",n[0];);return t>4?t:void 0}(),i=document.createElement("input");t.exports={ie:n,supportQuerySelector:document.querySelector&&document.querySelectorAll,supportChangeEvent:"onchange"in i,supportKeyupEvent:"onkeyup"in i}},function(t,e){"use strict";t.exports={Element:function(t){return t&&(1==t.nodeType||11==t.nodeType)},Fragment:function(t){return t&&11==t.nodeType},DOM:function(t){return t&&(this.Element(t)||8==t.nodeType)}}},function(t,e){var n={namespace:"r-",directiveSep:";",directiveSep_regexp:/;/g,mutable_dirtives:["html","text"]};n["CATCH".toLowerCase()]=!1,t.exports=n},function(t,e,n){"use strict";var i=n(2),a=n(4),o=n(3).supportQuerySelector;t.exports=function(t,e,n){if(!o){var s={};i.walk(t,function(t){if(!a.Element(t))return!1;i.forEach(n,function(e){i.hasAttribute(t,e)&&(s[e]||(s[e]=[]),s[e].push(t))});var o;return i.forEach(e,function(e){i.hasAttribute(t,e)&&(o=!0,s[e]||(s[e]=[]),s[e].push(t))}),!o})}return function(e){if(o)return t.querySelectorAll(e.join(","));var n=[],a={};return i.forEach(e,function(t){var e=t.match(/^\[(.+?)\]$/)[1];if(!a[e]){a[e]=!0;var o=s[e]||[];n.length?i.forEach(o,function(t){~i.indexOf(n,t)||n.push(t)}):n=n.concat(o)}}),n}}},function(t,e){"use strict";function n(t,e){if(i){var n=i[t];if(n&&"function"==typeof n.apply)n.apply(i,e);else{var a=[];a.push("["+t.toUpperCase()+"]");for(var o=0;o<e.length;o++)a.push(e[o]);i.log(a.join(" "))}}}var i=window.console,a=i&&i.log&&i.error&&i.warn&&i.info,o=a?i:{log:function(){n("log",arguments)},error:function(){n("error",arguments)},warn:function(){n("warn",arguments)},info:function(){n("info",arguments)}};o.errorTrace=function(t){if(i)if(i.groupCollapsed&&i.groupEnd)if(t.stack){i.groupCollapsed("%c"+t.message,"color: white;background:red");var e=t.stack.split("\n");e.shift();for(var n=0;n<e.length;n++)i.log(e[n]);i.groupEnd()}else o.error(t.message||t);else o.log(t)},t.exports=o},function(t,e,n){"use strict";function i(t){return String(t).replace(/\[([^\[\]]+)\]/g,function(t,e){return"."+e.replace(/^["']|["']$/g,"")})}function a(t){return r.isUndef(t)||null===t}function o(t,e,n){var a,o,s=i(e).split("."),c=s.pop(),l=t;if(r.some(s,function(t){var e=r.type(l);if("object"!=e&&"array"!=e)return a=!0,o=[t,l],!0;l=l[t]}),!a){if("object"==r.type(l)||"array"==r.type(l))return l[c]=n,t;a=!0,o=[c,l]}throw new Error("Can' not access \""+o[0]+'" of "'+o[1]+'" when set value of "'+e+'"')}function s(t,e){var n=i(e).split("."),o=t;return r.some(n,function(t){if(a(o))return o=void 0,!0;o=o[t]}),o}var r=n(2);t.exports={normalize:i,set:o,get:s}},function(t,e,n){"use strict";function i(){}function a(){return l.some(this._expressions,l.bind(function(t,e){var n=this._caches[e],i=this.$exec(t);if(!i[0])return!!this.$diff(n,i[1])},this))}function o(t){(t=t||window.event)&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}function s(t){(t=t||window.event)&&(t.stopPropagation?t.stopPropagation():(t.cancelBubble=!0,window.event&&(window.event.cancelBubble=!0)))}var r=n(1),c=n(5),l=n(2),d=n(7),u=n(3),p=n(10),h=n(8),f="CLASS".toLowerCase(),v={attr:{multi:!0,bind:function(t){this.attname=t,this._$el=r(this.$el)},update:function(t){l.isUndef(t)?this._$el.removeAttr(this.attname):this._$el.attr(this.attname,t)},unbind:function(){this._$el=null}},html:{constant:!0,bind:function(t){function e(){l.forEach(u,function(t,e){var n=v.$exec(t);n[0]||(f[e]=n[1])});var t=[];return l.forEach(h,function(e,n){t.push(e),n<u.length&&t.push(f[n])}),p.unveil(t.join(""))}var n=p.exprRegexp,i="replace"==t||"inner"!=t,a="replace"!=t&&"inner"!=t&&!!t,o=this.$el.innerHTML,s=a?t:o;s||(s="",d.warn('Content template should not empty of "'+c.namespace+'html".',this.$el));var r=p.veil(s),u=this._expressions=l.map(r.match(n)||[],function(t){return p.angleBrackets(p.strip(t))})||[s],h=l.split(r,n),f=this._caches=new Array(u.length),v=this;if(i){var g=this.$el.parentNode,m=document.createElement("div"),_=document.createDocumentFragment(),y=document.createComment("<"+c.namespace+"html>"+s),$=document.createComment("</"+c.namespace+"html>");_.appendChild(y),_.appendChild($),g.replaceChild(_,this.$el),this._render=function(){g=y.parentNode;var t=e(),n=l.domRange(g,y,$);m.innerHTML=t,l.forEach(l.slice(m.childNodes),function(t){_.appendChild(t)}),l.forEach(n,function(t){g.removeChild(t)}),g.insertBefore(_,$)}}else this._render=function(){this.$el.innerHTML=e()}},shouldUpdate:function(){return a.apply(this,arguments)},update:function(){this._render()},unbind:function(){this._render=i,this._expressions=this._caches=null}},show:{update:function(t){this.$el.style.display=t?"":"none"}},style:{multi:!0,bind:function(t){this.sheet=t},update:function(t){this.$el.style&&(this.$el.style[this.sheet]=t)}},text:{constant:!0,bind:function(t){var e,n="replace"==t||"inner"!=t,i="replace"!=t&&"inner"!=t&&!!t,a=p.exprRegexp,o=this.expr=i?t:this.$el.innerHTML,s=p.veil(o),r=this._expressions=l.map(s.match(a)||[],function(t){return p.angleBrackets(p.strip(t))})||[s],u=l.split(s,a),h=this._caches=new Array(r.length),f=this,v=this.$el;if(this.render=function(){l.forEach(r,function(t,e){var n=f.$exec(t);n[0]||(h[e]=n[1])});var t=[];l.forEach(u,function(e,n){t.push(e),n<r.length&&t.push(h[n])});var i=p.unveil(t.join(""));n?e.nodeValue=l.entity(i):this.$el["innerText"in v?"innerText":"textContent"]=l.entity(i)},n){e=this.textNode=document.createTextNode("");var g=this.$el.parentNode;if(!g)return d.error('"'+c.namespace+"text\" 's parentNode is not found. {"+this.$expr+"}");g.replaceChild(e,this.$el)}this.render()},shouldUpdate:a,update:function(){this.render()},unbind:function(){this.render=i,this._expressions=this._caches=this.textNode=null}},model:{bind:function(t){var e=this.$el.tagName,n=e.toLowerCase(),i=this._$el=r(this.$el);switch(n="input"==n?i.attr("type")||"text":n){case"tel":case"url":case"text":case"search":case"password":case"textarea":u.supportChangeEvent?this.evtType="change,input":u.supportKeyupEvent?this.evtType="keyup,input":this.evtType="input";break;case"date":case"week":case"time":case"month":case"datetime":case"datetime-local":case"color":case"range":case"number":case"select":case"checkbox":this.evtType="change";break;default:return void d.warn('"'+c.namespace+'model" only support input,textarea,select')}var a=this,o=this.$vm,s=this.vType="checkbox"==n?"checked":"value";this._prop=t,this._requestChange=function(){if(a._prop){var t=a.$el[s],e=o.$data[a._prop];l.diff(t,e)&&o.$set(a._prop,t)}},this._update=function(){if(a._prop){var t=a.$el[s],e=h.get(o.$data,a._prop);t!==e&&(a.$el[s]=e)}},l.forEach(this.evtType.split(","),function(t){i.on(t,a._requestChange)}),this._update()},update:function(t){t?this._prop=t:d.error('Invalid property key "'+t+'"')},afterUpdate:function(){this._update()},unbind:function(){var t=this,e=r(this.$el);l.forEach(this.evtType.split(","),function(n){e.off(n,t._requestChange)}),this._requestChange=this._update=i}},on:{multi:!0,bind:function(t,e,n){this._expr=n;var i=this.$el.tagName;"vchange"==t&&(t="INPUT"!=i&&"TEXTAREA"!=i||"onchange"in this.$el?"change":"onkeyup"in this.$el?"keyup":"input"),this.type=t},update:function(t){this.unbind();var e=t;if("function"!==l.type(e))return d.warn('"'+c.namespace+'on" only accept function. {'+this._expr+"}");var n=this;this.fn=function(t){t.$currentTarget=n.$el,t.$preventDefault=o,t.$stopPropagation=s,e.call(n.$vm,t)},r(this.$el).on(this.type,this.fn,!1)},unbind:function(){this.fn&&(r(this.$el).off(this.type,this.fn),this.fn=null)}}};v[f]={multi:!0,bind:function(t){this.className=t,this._$el=r(this.$el)},update:function(t){t?this._$el.addClass(this.className):this._$el.removeClass(this.className)},unbind:function(){this._$el=null}},t.exports=v},function(t,e,n){"use strict";function i(t){return!!t&&!!o.trim(t).match(/^\{[\s\S]*?\}$/m)}function a(t){return o.trim(t).match(/^\{([\s\S]*)\}$/m)[1].replace(/^- /,"")}var o=n(2);t.exports={isExpr:i,strip:a,wrapExpr:function(t){return"{"+t+"}"},exprRegexp:/\{[\s\S]*?\}/g,veil:function(t){return t.replace(/\\{/g,"￰").replace(/\\}/g,"￱")},unveil:function(t){return t.replace(/\uFFF0/g,"\\{").replace(/\uFFF1/g,"\\}")},angleBrackets:function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}}},function(t,e){"use strict";function n(){}var i={};i["IF".toLowerCase()]={bind:function(){var t=this.$el,e=t.parentNode,n=!0;this._mount=function(){n||(n=!0,e.appendChild(t))},this._unmount=function(){n&&(n=!1,e.removeChild(t))}},unbind:function(){this._mount=this._unmount=n},update:function(t){return t?this._compiled?this._mount():(this._compiled=!0,this.$vm.$compile(this.$el),void this._mount()):this._unmount()}},t.exports=i},function(t,e,n){"use strict";function i(){}function a(t,e,n,i,a,s){function l(){if(f.$destroyed)return r.warn('Directive "'+i+'" already destroyed.');var t=!1;if(!g||S)w&&w.call(f)&&x&&x.call(f);else{var e=f.$exec(a),n=e[1];if(!e[0]&&c.diff(n,$)&&(t=!0,!w||w.call(f,n,$))){var o=$;$=n,x&&x.call(f,n,o)}}C&&C.call(f,t)}var f=this,v=[],g=!!d(a),m=a;if(g&&(a=u(a)),n.multi){var _,y=/^[^:]+:/;if(!y.test(a))return r.error('Invalid expression of "{'+a+'}", it should be in this format: '+i+'="{ key: expression }".');a=a.replace(y,function(t){return _=c.trim(t.replace(/:$/,"")),""}),a=c.trim(a),v.push(_)}f.$el=e,f.$vm=t,f.$id=p++,f.$expr=a,f.$rawExpr=m,f.$name=i,f.$destroyed=!1,f.$scoped=!!n.scoped,f.$scope=s,f.$updateId=c.getAttribute(e,o.namespace+"updateid")||"",this._$unbind=n.unbind;var $,b=n.bind,x=n.update,w=n.shouldUpdate,C=n.afterUpdate,S=n.constant;c.objEach(n,function(t,e){f[t]=e}),this.$diff=h;var k;g&&!S?($=f.$exec(a),k=$[0],$=$[1]):$=m,v.push($),v.push(a),f.$update=l,b&&b.apply(f,v),!k&&x&&x.call(f,$)}var o=n(5),s=n(10),r=n(7),c=n(2),l=n(13),d=s.isExpr,u=s.strip,p=0,h=function(){return c.diff.apply(c,arguments)};a.prototype.$exec=function(t){return l(this.$vm,t,this.$name)},a.prototype.$destroy=function(){this.$destroyed||(this._$unbind&&this._$unbind.call(this),this.$update=this.$destroy=this.$exec=i,this.$el=null,this.$destroyed=!0)},t.exports=a},function(t,e,n){function i(t){var e=a.slice(arguments),i=e[1],r=s[i];try{return r||(r=s[i]=o(i)),[null,a.immutable(r(a.extend({},t.$methods,t.$data)))]}catch(i){e[1]=". "+e[2]+"="+(/^\{/.test(e[1])?e[1]:"{"+e[1]+"}");var c=n(7);switch(i.name){case"ReferenceError":c.warn(i.message+e[1],"@VM: ",t);break;default:c.error(e[2]?"'"+e[2]+"': ":"",i.message+e[1],e[3]||"","@VM: ",t)}return[i]}}var a=n(2),o=n(14),s={};t.exports=i},function(t,e){t.exports=function(t){return/^[_$][\w$]*$/.test(t)?function(e){return e[t]}:new Function("$scope","with($scope){return ("+t+")}")}}])})},function(t,e,n){"use strinct";var i=n(7),a={bid:"",businessID:"",uid:"",token:""},o={};t.exports={
defineGetter:function(t,e){return o[t]=e,this},set:function(t,e){"object"==i.type(t)?i.extend(a,t):a[t]=e},get:function(t){return o[t]?o[t]():t?a[t]:a}}},function(t,e,n){"use strict";function i(t){t=t||{},a();var e=this._listeners=[];o.forEach(u,function(n){var a=t[n];a&&(i.on(n,a),e.push({et:n,fn:a}))})}function a(){if(!p){p=!0;var t={uin:txv.login.getUin(),g_tk:r.getToken(),businessType:l.BusinessType.BOKE,businessID:d.get("businessID"),uploadType:f,uploadInfo:{bid:d.get("bid"),platform:"web",upload_platform:1},useMultiUploadType:!0,maxQueueParallelNum:3,useMultiSelect:!1,isReportBoss:!0};o.forEach(u,function(e){t[e]=function(t){var n=[].slice.call(arguments);switch(n.unshift(e),e){case"onFileStart":h=t;break;case"onFileSuccess":case"onFileError":h=null}c.emit.apply(c,n)}}),l.init(t)}return i}var o=n(8),s=n(12),r=n(2),c=new s,l=n(14),d=n(10),u=["onFileSelect","onFileStart","onFileScanProgress","onFileUploadStart","onFileUploadProgress","onFileSuccess","onFileError"],p=!1,h=null,f=l.UploadType.FLASH,v=window.navigator.userAgent,g=function(){if(v.indexOf("MSIE")>0||v.indexOf("Trident/")>0||v.indexOf("Edge/")>0)return!0}(),m=v.toLowerCase().indexOf("firefox")>-1,_=v.toLowerCase().indexOf("safari")>-1,y=v.toLowerCase().indexOf("windows")>-1;!l.hasFtnHtml5()||g||m?!l.hasFtn()||y&&_?l.hasHtml5()&&"https"!==location.protocol&&(f=l.UploadType.HTML5):f=l.UploadType.FTN:f=l.UploadType.FTN_HTML5;var p;i.init=a,i.prototype.remove=function(){o.forEach(this._listeners,function(t){i.off(t.et,t.fn)})},i.on=i.prototype.on=function(t,e){return c.on(t,e)},i.off=i.prototype.off=function(t,e){return c.off(t,e)},i.open=i.prototype.open=function(){return l.openSelectFileWindow()},i.cancel=i.prototype.cancel=function(t){return h&&t.uid===h.uid&&(h=null),l.cancel(t)},i.addToQueue=i.prototype.addToQueue=function(t){return l.addToQueue(t)},i.start=i.prototype.startQueue=function(){h||l.startQueue()},i.startQueue=i.prototype.startQueue=function(){return l.startQueue()},i.selectButton=i.prototype.selectButton=function(t){return f==l.UploadType.FLASH&&l.setSelectButton(t,l.UploadType.FLASH),this},t.exports=i},function(t,e,n){"use strict";t.exports=n(13)},function(t,e,n){"use strict";function i(){this._evtObjs={},this._outdatedMsgs={}}function a(){}var o=n(8);i.prototype.on=function(t,e,n){this._evtObjs[t]||(this._evtObjs[t]=[]),this._evtObjs[t].push({handler:e,once:n});var i=this;return function(){i.off(t,e)}},i.prototype.wait=function(t,e){return this._outdatedMsgs[t]?(e.apply(null,this._outdatedMsgs[t]),a):this.on(t,e,!0)},i.prototype.off=function(t,e){var n,i=this;return n=t?[t]:o.keys(this._evtObjs),o.forEach(n,function(t){if(e){var n=i._evtObjs[t]||[],a=[];o.forEach(n,function(t){t.handler!==e&&a.push(t)}),i._evtObjs[t]=a}else i._evtObjs[t]=[]}),this},i.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments,1);this._outdatedMsgs[t]=e;var n=this._evtObjs[t]||[];o.forEach(n,function(t){t.once&&t.called||(t.called=!0,t.handler&&t.handler.apply(null,e))})},i.prototype.emitAsync=function(){var t=arguments,e=this;setTimeout(function(){e.emit.apply(e,t)},0)},i.prototype.assign=function(t){var e=this;o.forEach(["on","off","wait","emit","emitAsync"],function(n){var i=e[n];t[n]=function(){return i.apply(e,arguments)}})},(new i).assign(i),t.exports=i},function(t,e){"use strict";t.exports=window.tvu},function(t,e,n){"use strict";var i=n(9);n(16),n(24);var a=n(8),o=n(26),s=n(11),r=n(10),c=n(53),l=n(12),d=n(69),u=n(2),p=n(61);t.exports=i.component("c-upload-panel",{template:n(70),data:function(){return{OMLink:!1,uploadingCount:0,doneCount:0,unsignCount:0,failCount:0,om:!1,showNetworkStatus:p.get("networkStatus"),isShowRealNameTips:!1}},ready:function(){var t=this;this.dataset={},this.queue=[],u(this.$el).find("._upload-panel-add").each(function(t,e){s.selectButton(e,tvu.UploadType.FLASH)}),s.init(),s.on("onFileSelect",function(e){setTimeout(function(){t.initButtons()});var n=e[0],i=s.addToQueue(n),a=0,o="-";n.act=txv&&txv.util&&txv.util.getUrlParam("act")||"",n.errorCode?(l.emit("upload:selectError",n.errorMsg),a=2,o=n.errorMsg):i?(l.emit("upload:selectSuccess",n),t._current=t.load(n),s.start(),t.$set({uploadingCount:t.$data.uploadingCount+1})):(l.emit("upload:selectError","添加文件失败，请重试"),a=2,o="添加文件失败，请重试"),c.report({bid:r.get("bid"),seqid:n.uid||"-",vid:n.vid||"-",module:"upload-panel",method:"ready",act:"上传:文件选择",type:a,msg:o}),t.$set({om:"open_omg_video"===r.get("bid")}),t.dataset.isShowRealNameTips&&(t.$data.isShowRealNameTips=!0,t.$update())}),s.on("onFileSuccess",function(){t.$set({uploadingCount:Math.max(t.$data.uploadingCount-1,0),unsignCount:t.$data.unsignCount+1})}),s.on("onFileError",a.bind(function(e){t.$set({uploadingCount:Math.max(t.$data.uploadingCount-1,0),failCount:t.$data.failCount+1});var n=d[e.errorCode],i=null,a=!1,o=e.errorCode;if(o=e.errorType+"."+o,100001==e.errorCode)return n="登录验证失败，请重新登录（错误码："+e.errorCode+")",void txv.login.openLogin({success:function(){u(window).unbind("beforeunload"),window.onbeforeunload=null,location.reload()}});n||(e.errorMsg&&"undefined"!=e.errorMsg?(n=e.errorMsg,void 0!==e.errorCode&&null!=e.errorCode&&(n+="（错误码："+o+"）")):n="错误码："+o);var s=e.errorCode,p=null;switch(s){case 7003:n="文件大小超过限制，推荐使用腾讯视频客户端上传",i="使用客户端",a=!0,p=function(){uploadExtend&&uploadExtend.init()}}if(4022!==s&&4023!==s&&4025!=s&&this.$refs.toast.show({msg:n,btnText:i,hasCancel:a,onClose:function(){t.close()},onSure:p}),4025==s){var h,f,v={msg:'失败原因：您要上传的视频在腾讯视频站内已经存在，请勿重复上传。如您是原作者，可发起<a href="${url}">申诉</a>，我们收到后会尽快处理并反馈处理结果',title:"您要上传的视频已存在",isInputShow:!0,inputTitle:"链接:"},g="https://v.qq.com/x/page/${vid}.html",m="//v.qq.com/u/feedback.html?u=${url}&t=${title}";if(e.dupli_info&&u.isArray(e.dupli_info)&&e.dupli_info.length&&e.dupli_info[0].title&&e.dupli_info[0].vid){v.inputValue=g.replace("${vid}",e.dupli_info[0].vid),h=e.dupli_info[0].title,f=e.dupli_info[0].nick,m=m.replace("${url}",encodeURIComponent(v.inputValue)).replace("${title}",encodeURIComponent(h)),v.msg=v.msg.replace("${url}",m);var _='<a href="'+v.inputValue+'" target="_blank;">'+h+"</a>";v.msg2='原视频:&nbsp;<span class="desc_title"><i class="icon_video"></i>${title}</span><span class="desc_author">&nbsp;作者:&nbsp;${author}</span>'.replace("${title}",_).replace("${author}","string"==typeof f?f:"")}v.code=4052,l.emit("upload:FileError",v)}l.emit("upload:error",e),c.report({bid:r.get("bid"),seqid:e.uid||"-",vid:e.vid||"-",module:"upload-bar",method:"_onFileError",act:"上传:上传失败",type:2,msg:e.errorMsg+", "+e.errorCode})},this));var e=0;s.on("onFileUploadProgress",function(t){t.instantSpeed!==e&&(l.emit("network:change",t.instantSpeed),e=t.instantSpeed)}),l.on("upload:cancel",function(e){t.$set({uploadingCount:Math.max(t.$data.uploadingCount-1,0)}),t.removeTask(e),t.queue.length||t.onClose&&t.onClose("empty")}),l.on("upload:error",function(e){t.$set({uploadingCount:Math.max(t.$data.uploadingCount-1,0)}),t.removeTask(e)}),l.on("upload:save",function(e){t.$set({unsignCount:t.$data.unsignCount-1,doneCount:t.$data.doneCount+1})}),this.checkRealNameAuthStatus()},methods:{_onAdd:function(){s.open()},_onUploadItemClose:function(t,e){this.removeTask(t),this.onClose&&this.onClose(e)},_onUploadItemSaveError:function(t){this.onSaveError&&this.onSaveError(t);var e=this;setTimeout(function(){e.$refs.toast.show({msg:t,isOk:!1,onClose:function(){e.close()}})},50)},_onUploadItemSaveSuccess:function(t){this.onSaveSuccess&&this.onSaveSuccess(t)},initButtons:function(){u(this.$el).find("._upload-panel-add").each(function(t,e){s.selectButton(e,tvu.UploadType.FLASH)})},removeTask:function(t){var e=[],n=this;a.forEach(this.queue,function(i){if(i.uid===t.uid){if(i.destroyed)return;n.destroyUploadItem(i.vm)}else e.push(i)}),this.queue=e},destroyUploadItem:function(t){var e=t;u(e.$el).remove(),e.destroyTask(),e.$destroy()},load:function(t){var e=this,n=new o({replace:!0,data:{fio:t,OMLink:!!this.$data.OMLink,parentPopup:!!this.$data.parentPopup,disableSaveBeforeUploaded:this.$data.disableSaveBeforeUploaded,isDescRequired:this.$data.isDescRequired},methods:{onClose:function(n){e._onUploadItemClose(t,n)},onSaveError:this._onUploadItemSaveError,onSaveSuccess:this._onUploadItemSaveSuccess}});return u(this.$el).find("._upload-panel-queue").append(n.$el),this.queue.push({uid:t.uid,vm:n}),n},close:function(){function t(){var t=[];a.forEach(e.queue,function(e){e.destroyed||t.push(e)}),e.queue=t,t.length||e.onClose&&e.onClose("close-panel")}var e=this,n=this.queue.length;a.forEach(this.queue,function(i){var a=i.vm;i.destroyed||a.close("close-panel",function(a){a&&(i.destroyed=!0,e.destroyUploadItem(i.vm)),--n||t()})})},select:function(){return s.open()},checkRealNameAuthStatus:function(){var t=this;l.on("realname:status:update",function(e){t.dataset.isShowRealNameTips=e})}}})},function(t,e,n){"use strict";function i(t){var e,n=1024;return t=t||100*n,t>=102400?e="good":t>51200&&t<102400?e="slow":t<=51200&&(e="bad"),e}var a=n(9),o=n(12),s=n(7),r=(n(10),n(17));t.exports=a.component("c-network",{template:n(23),data:function(){return{status:"",speed:0,vid:"",finishtime:""}},ready:function(){this.$data.speed&&this.change(this.$data.speed),o.on("network:change",s.bind(function(t){this.$set("status",i(t))},this)),o.on("upload:save",s.bind(function(t){var e=t.vid;this.$set({vid:e}),this.getVideoInfo()},this))},methods:{getVideoInfo:function(){var t=this;r.info({vid:this.$data.vid},function(e,n){t.$set({finishtime:n.finishtime})})}}})},function(t,e,n){"use strict";var i=n(18),a=n(20),o=n(21);n(10);t.exports={info:function(t,e){var n=t||{};i(a.queryJoin(location.protocol+"//c.v.qq.com/vvideoinfor?otype=json",n),function(t,n){t?e({em:-1}):n&&n.curVideo?e(null,n.curVideo):e({code:n.em,msg:n.msg})})},catemap:function(t,e){var n=t||{};i(a.queryJoin(location.protocol+"//c.v.qq.com/vusercatmap?otype=json",n),function(t,n){t?e({em:-1}):n&&0==n.em?e(null,n.cats):e({code:n.em,msg:n.msg})})},titleTag:function(t,e){var n=t||{};i(a.queryJoin(location.protocol+"//c.v.qq.com/vuptitletag?otype=json",n),function(t,n){t?e({em:-1}):n&&"o"===n.s?e(null,n):e({code:n.em,msg:n.msg})})},capture:function(t,e){var n=t||{};i(a.queryJoin(location.protocol+"//ui.video.qq.com/cgi-bin/cropvidcap?otype=json",n),function(t,n){t?e({em:-1}):n&&"o"===n.s?e(null,n):e({code:n.em,msg:n.msg})})},clip:function(t,e){var n=t||{};i(a.queryJoin(location.protocol+"//ui.video.qq.com/cgi-bin/cutvidcap?otype=json",n),function(t,n){t?e({em:-1}):n&&"o"===n.s?e(null,n):e({code:n.em,msg:n.msg})})},save:function(t,e){o(location.protocol+"//c.v.qq.com/vmodifyvideo",t,function(t,n){t?e({msg:t.message||t,code:t.code||0}):n?"o"===n.s?e(null,n):e({msg:n.msg,code:n.em||0}):e({msg:"响应数据为空"})},{callbackid:"callback"})},del:function(t,e){o(location.protocol+"//c.v.qq.com/delvideo",t,function(t,n){t?e(t):n&&"o"===n.s?e(null,n):e({em:n&&n.em},n)})},uploadCoverImg:location.protocol+"//ui.video.qq.com/cgi-bin/uploadimg?otype=json&ran="+Math.random(),uploadCoverImgTpl:location.protocol+"//ui.video.qq.com/cgi-bin/uploadimgtpl?otype=json&ran="+Math.random()}},function(t,e,n){"use strict";function i(){}function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function o(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function s(t,e,n){var s=arguments;return r(function(r,v){var g;if("object"==typeof e&&(g=e,e=n,n=s[3]),g=g||{},n=n||{},"function"!=typeof(e=e||i))throw Error("illegal jsonp callback function:",e);var m=document.getElementsByTagName("head")?document.getElementsByTagName("head")[0]:document.body,_=document.createElement("script");_.charset="UTF-8";var y=[n.ns||d,p++,a()].join("_"),$=!0,b="_t",x=n.time;n.callbackid&&(y=n.callbackid),!1===x?$=!1:x&&(b=x),g[n.pn||n.callbackName||u]=y,$&&(g[b]=+new Date);var w=function(t){o(_),e(null,t),r&&r(t)},C=function(t){o(_),e(t||"error"),window[y]=w=C=i,v&&v(t||error)},S=window[y];window[y]=function(t){window[y]=i;try{S&&S(t)}finally{w(t),w=C=i}},_.onerror=_.onabort=function(t){C(t?t.type:"error")},c.forEach(f,function(e){"function"==c.type(e)&&(t=e(t,g)||t)}),_.src=l.queryJoin(t,g),m.appendChild(_),setTimeout(function(){C("timeout")},n.timeout||h)})}function r(t){if(window.Promise)return new Promise(t);t(i,i)}var c=n(8),l=n(19),d="_jsonp",u="callback",p=0,h=2e4,f=[];s.timeout=function(t){h=t},s.ns=function(t){d=t},s.pn=function(t){u=t},s.before=function(t){f.push(t)},t.exports=s},function(t,e,n){"use strict";var i=n(8),a={queryParse:function(t,e){if(!t)return{};e=e||"&";var n=t.replace(/^\?/,""),a={},o=n?n.split(e):null;return o&&o.length>0&&i.forEach(o,function(t){t=t.split("=");var e=t.splice(0,1),n=t.join("=");a[e]=decodeURIComponent(n)}),a},queryJoin:function(t,e){var n=a.queryStringify(e);if(!n)return t;var i;return i=/[\?&]$/.test(t)?"":~t.indexOf("?")?"&":"?",t+i+n},queryStringify:function(t,e){return t?i.map(i.keys(t),function(e){return e+"="+encodeURIComponent(t[e])}).join(e||"&"):""}};t.exports=a},function(t,e,n){"use strict";t.exports=n(19)},function(t,e,n){"use strict";var i=n(10),a=n(22);a.scope("frameElement").scopeLimit(!0).before(function(t){var e=i.get("bid"),n=i.get("uid"),a=i.get("token");return e&&(t.data.bid=e),n&&(t.data.open_uid=n),a&&(t.data.open_token=a),t}),t.exports=a},function(t,e,n){"use strict";function i(){}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function o(t,e,n,o){o=o||{},e=e||{};var m=o.callbackid||p+c++,_=h+"."+m,y="iframe"+m+"_"+l++;g&&(e.format="SCRIPT",e[u]=v?m:_);var $=document.createElement("iframe");$.src="javascript:'<script>window.onload=function(){document.write(\\'<script>document.domain=\\\""+document.domain+"\\\";<\\\\/script>\\');document.close();};<\/script>'",$.setAttribute("frameborder","0"),$.setAttribute("style","width:0;height:0;border:0;outline:0;visibility:hidden;position:absolute;clip:rect(0 0 0 0);clip:rect(0,0,0,0);"),$.id=$.name=y,document.body.appendChild($),t=t.replace(/[\?\&]$/,"");var b={url:t,data:e};r.forEach(f,function(t){b=t(b)||b});var x={_t:+new Date};g||(x.format="SCRIPT",x[u]=m),t=s.queryJoin(b.url,x),e=b.data;var w=document.createElement("form");w.action=t,w.method=o.method||"POST",w.target=y,o.enctype&&w.setAttribute("enctype",o.enctype);var C=i,S=function(t){a($),a(w),C(),n(null,t)},k=function(t){clearTimeout(T),a($),a(w),C(),n(t||"error")};switch(h){case"frameElement":$[m]=function(t){S(t)},C=function(){$[m]=S=k=i};break;case"top":window[m]=function(t){S(t)},C=function(){window[m]=S=k=i}}r.objEach(e,function(t,e){if(e&&1===e.nodeType)w.name=t,w.appendChild(e);else{var n=document.createElement("input");n.type="hidden",n.name=t,n.value=e,w.appendChild(n)}});var T=setTimeout(function(){k("timeout")},o.timeout||d);document.body.appendChild(w),w.submit()}var s=n(19),r=n(8),c=1,l=1,d=15e3,u="callback",p="_formpost",h="top",f=[],v=!1,g=!1;o.ns=function(t){return p=t,this},o.pn=function(t){return u=t,this},o.before=function(t){return f.push(t),this},o.scope=function(t){return h=t,this},o.scopeLimit=function(t){return v=!!t,this},o.bodyOption=function(t){return g=!!t,this},t.exports=o},function(t,e){t.exports='\x3c!-- 网络环境 --\x3e\n<div class="speed_road">\n    <div class="item">\n        <span class="speed_tit">网络状况：</span>\n        \x3c!-- 良好 --\x3e\n        <i class="icon_speed icon_speed_good" r-show="{!status || status == \'good\'}"></i><span class="speed_text" r-show="{!status || status == \'good\'}">良好</span>\n        \x3c!-- 较慢 --\x3e\n        <i class="icon_speed icon_speed_slow" r-show="{status == \'slow\'}"></i><span class="speed_text" r-show="{status == \'slow\'}">较慢</span>\n        \x3c!-- 较差 --\x3e\n        <i class="icon_speed icon_speed_bad" r-show="{status == \'bad\'}"></i><span class="speed_text" r-show="{status == \'bad\'}">较差</span>\n        <style>\n            .mod_explain:hover .mod_explain_pop {visibility: visible;}\n        </style>\n        <div class="mod_explain" r-show="{status == \'slow\' || status == \'bad\'}">\n            <i class="ico_question"></i>\n            <div class="mod_explain_pop">\n                <i class="triangle_up triangle_up_wrap"><i class="triangle_up"></i></i>\n                <div class="explain_cont">\n                    <p class="explain_txt">请尽量关闭下载工具，在线视频，音乐等软件，或更换上网环境后再试</p>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="item_right" r-style="{display: finishtime.length !== 0 ? \'inline-block\': \'none\'}">\n        <span class="speed_tit">审核结束：</span><i class="icon_time_loading"></i>预计<span class="time"><span r-text>{finishtime}</span></span>前\n        <div class="mod_explain">\n            <i class="ico_question"></i>\n            <div class="mod_explain_pop">\n                <i class="triangle_up triangle_up_wrap"><i class="triangle_up"></i></i>\n                <div class="explain_cont">\n                    <p class="explain_txt">根据您的用户身份以及日常审核排队时间的估算结果，以最终耗时为准</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e,n){"use strict";var i=n(9),a=n(2);t.exports=i.component("c-toast",{template:n(25),data:function(){return{msg:"",isShow:!1,timeout:3e3,isOk:!1,btnText:"确定",hasCancel:!1,showClose:!1}},ready:function(){},methods:{show:function(t){var e=this;if(t&&t.msg)return clearTimeout(this._timer),this.onClose=t.onClose||null,this.complete=t.complete||null,this.$data.showClose=!!this.onClose,this.$data.msg=t.msg,this.$data.isOk=t.isOk,this.$data.isShow=!0,this.$data.btnText=t.btnText||"确定",this.$data.hasCancel=t.hasCancel||null,this.$update(),this.onClose||(this._timer=setTimeout(function(){e.$set({isShow:!1}),setTimeout(function(){e.complete&&e.complete()},0)},this.$data.timeout)),this},hide:function(){this.$data.isShow=!1,this.$update()},fadeOut:function(){var t=this;a(this.$el).fadeOut({duration:2e3,complete:function(){t.hide()}})},fadeIn:function(t){var e=this;a(this.$el).fadeIn({duration:200,complete:function(){e.show(t)}})},_onClose:function(t){var e=a(t.$currentTarget).data("type");this.$set({isShow:!1}),this.onSure&&1==e&&(this.onSure(),this.onSure=null),this.onClose&&this.onClose()}}})},function(t,e){t.exports='\x3c!--<div class="mod_dialog_mask" r-style="{display: isShow ? \'block\': \'none\';}"></div>--\x3e\n<div class="x_modal" r-style="{display: isShow ? \'block\': \'none\';}" style="z-index: 9999">\n    <div class="x_modal_bd">\n        <h3 class="x_title">温馨提示</h3>\n        <a href="javascript:;" class="x_close" title="关闭" r-on="{click: _onClose}"><i class="x_iconfont x_icon_close">&#xe601;</i></a>\n        <div class="x_icon_line"><i class="x_iconfont x_icon_warning">&#xe602;</i></div>\n        <h3 class="x_title"><span r-text>{msg}</span></h3>\n    </div>\n    <div class="x_modal_ft">\n        <a class="x_btn x_btn_primary" data-type=\'1\' r-on="{click: _onClose}"><span r-text>{btnText}</span></a>\n        <a class="x_btn" r-show="{hasCancel}" r-on="{click: _onClose}">取消</a>\n    </div>\n</div>\n'},function(t,e,n){"use strict";function i(){}var a=n(9);n(27),n(30),n(37),n(42),n(44),n(46),n(57),n(64),n(58);var o=n(6),s=n(66),r=n(17),c=n(7),l=n(12),d=["videoCategory","videoTitle","videoTag","videoDesc"],u=n(61),p=n(53),c=n(7),h=n(2),f=n(10),v="";if(top&&top.getVideoParam){v=(top.getVideoParam()||{}).uid}else v=c.cookie.get("uin");p.config({bid:f.get("bid"),uid:v,ua:window.navigator.userAgent}),t.exports=a.component("c-upload-item",{template:n(68),data:function(){return{OMLink:!1,status:"",title:"",tags:[],imgurl:"",newcat:"",newsubcat:"",desc:"",vid:"",vr:0,manpub:"",vidpay:"",paytype:"",vidprice:"",formStatus:"",saveRequestStatus:"",parentPopup:!1,agreeRules:!0,clicked:!1,toggle:!1,finishtime:"",formTips:u.get("formTips"),showUploadAgreement:u.get("showUploadAgreement"),isRequireManpub:window.isMpub,repeatErr:{msg:"",videoInfo:{vid:"",url:"",title:"",nick:""}}}},ready:function(){this.$refs.videoCategory.update(""),s.tags({},c.bind(function(t,e){!t&&e&&this.$refs.videoTag.update({myTags:e})},this)),this.$set({isRequireManpub:window.isMpub}),l.on("upload-bar:link",this._linkListener)},destroy:function(){l.off("upload-bar:link",this._linkListener)},methods:{_linkListener:function(){this._onClose("viewVideo")},getFio:function(){return this.$data.fio},onToggle:function(){this.$set("toggle",!this.$data.toggle)},onTitleChange:function(t){this.$refs.videoTag.onTitleUpdate({title:t.title}),this.$refs.videoDesc.onTitleUpdate({title:t.title}),this.$refs.videoPreview.update({title:t.title}),this.$update()},onCategoryChange:function(){this.$update()},onDescChange:function(){this.$refs.videoTitle.triggerValidate(),this.$update()},onTagChange:function(t){this.$update(),this.$refs.videoPreview.update({tags:t})},onPayChange:function(t){this.$update()},onVrChange:function(){this.$update()},onPreviewChange:function(){this.$update()},onTitleInput:function(t){this.$update(),this.$refs.videoPreview.update({title:t.title})},setManpub:function(t){var e=h(t.$currentTarget).prop("checked");this.$set({manpub:e?1:""})},onDescInput:function(){this.$update()},onFileUploadStart:function(t){this._fio=t,this.$data.vid=t.vid},onFileSuccess:function(){this._endTime=+new Date,this.$set("status","uploaded"),this.preview(),this.$data.formStatus&&this.save()},onFileError:function(t){if(4022===t.errorCode||4023===t.errorCode){this.$data.status="repeat-err",this.$data.repeatErr.msg=t.errorMsg;var e=t.dupli_info[0];if(!e)return;this.$data.repeatErr.videoInfo={vid:e.vid,url:e.url,title:e.title,nick:e.nick,host:e.host},this.$update(),this.onToggle()}},preview:function(){this.$refs.videoPreview.update({vid:this.$data.vid})},onSave:function(){var t=this;if(this.$set({clicked:!0}),h(".j_tooltip_top").fadeOut({duration:3e3,complete:function(){t.$set({clicked:!1})}}),this._isFormReady()){var e=this.$refs.videoPay.val();this.$set({title:this.$refs.videoTitle.val(),newcat:this.$refs.videoCategory.val().split("-")[0],newsubcat:this.$refs.videoCategory.val().split("-")[1],tags:this.$refs.videoTag.val(),imgurl:this.$refs.videoPreview.val(),desc:this.$refs.videoDesc.val(),vr:this.$refs.videoVr.val(),vidpay:e.vidpay,paytype:e.paytype,vidprice:e.vidprice}),this.$set("formStatus","ready"),this.$data.status&&this.save()}},destroyTask:function(){this.$refs&&this.$refs.uploader&&this.$refs.uploader.destroyTask()},_onEdit:function(){this.$set("formStatus",""),o.report({target:7})},_onClose:function(t){this.close(t)},close:function(t,e){var n=this;e=e||i,this.$refs.uploader.cancel(function(i,a){i?"done"==a.uploadStatus&&!a.hasConfirm&&u.get("hasNotSaveConfirm")&&"saved"!==n.$data.formStatus?n.$refs.dialog.confirm({title:u.get("unsaveConfirmText"),btnOk:"确定"},function(i){i&&n.onClose&&n.onClose(t),e(i)}):(n.onClose&&n.onClose(t),e(!0)):e(!1)})},save:function(){var t=this,e={vid:this.$data.vid,title:this.$data.title,newcat:this.$data.newcat,newsubcat:this.$data.newsubcat,tags:this.$data.tags.join(" "),imgurl:this.$data.imgurl,desc:this.$data.desc,applyori:0,convertvrflag:this.$data.vr,manpub:this.$data.manpub,vidpay:this.$data.vidpay,paytype:this.$data.paytype,vidprice:this.$data.vidprice,act:txv&&txv.util.getUrlParam("act")||""};"pending"!=this.$data.saveRequestStatus&&(this.$set("saveRequestStatus","pending"),r.save(e,c.bind(function(n,a){t.$set("saveRequestStatus","");var o=this.onSaveError||i,s=this.onSaveSuccess||i;if(n){o("保存视频失败，"+(n.msg?"错误信息："+n.msg:"错误码："+n.code)),p.report({bid:f.get("bid"),vid:e.vid||"-",module:"upload-item",method:"save",act:"上传:信息保存",type:3,msg:n.msg?"错误信息："+n.msg:"错误码："+n.code})}else t.$set({status:"saved",formStatus:"saved"}),s({info:{title:this.$data.title,newcat:this.$data.newcat,newsubcat:this.$data.newsubcat,tags:c.slice(this.$data.tags),desc:this.$data.desc},video:{vid:this._fio.vid,name:this._fio.name,size:this._fio.size},upload:{endTime:this._endTime}}),l.emit("upload:save",this._fio),p.report({bid:f.get("bid"),vid:e.vid||"-",module:"upload-item",method:"save",act:"上传:信息保存",type:0,msg:"保存成功"})},this)))},_isFormReady:function(){var t=this.$refs;return!(this.$data.showUploadAgreement&&!this.$data.agreeRules)&&!c.some(d,function(e){return!t[e].triggerValidate()})},_enableSave:function(){return!(!this._isFormReady()||this.$data.disableSaveBeforeUploaded&&"uploaded"!==this.$data.status&&"saved"!==this.$data.status)}}})},function(t,e,n){"use strict";var i=n(9),a=n(7),o=n(28),s=n(2);t.exports=i.component("c-video-title",{template:n(29),data:function(){return{title:"",originTitle:"",wordLength:0,maxWordLength:30,minWordLength:6,validate:{errorCode:0,errorMsg:""}}},methods:{update:function(t){this.$data.title=t.title,this.$data.originTitle=t.title,this.$update(),s(this.$el).find(".j_video_title").val(this.val()),this.val()?(this._getLength(),this._onChange()):this.$data.wordLength=0},triggerValidate:function(){return this._validate()},val:function(){return this.$data.title},_getLength:function(){var t=this.val()||"";if("string"!=typeof t)return 0;var e=t.length;return this.$set("wordLength",e),e},_validate:function(){var t=this.val(),e=0,n="",i=!1,s=this._getLength();return a.trim(t).length?s<6?(e=-2,n="请不要少于六个字，更详尽的标题描述将更有利于您视频的曝光哦~"):s>30?(e=-3,n="标题有点长，删减一些字数吧"):o.title(t)?i=!0:(e=-4,n="输入的标题不够规范哦，请输入有意义的标题~"):(e=-1,n="请填写视频标题，它可以吸引更多观众来看你的视频哦：)"),this.$set("validate",{errorCode:e,errorMsg:n}),i},_onKeyUp:function(t){var e=t.$currentTarget.value;e=s.trim(e),this.$set({title:e}),13===t.keyCode&&this._onBlur(t),this.onInput&&this.onInput({title:e}),this._getLength()},_onBlur:function(t){var e=t.$currentTarget.value;e=s.trim(e),s(t.$currentTarget).val(e),this.$set({title:e}),this._validate(),this._getLength(),this._onChange()},_onChange:function(){var t={isOk:!1,title:this.val()};this._validate()&&(t.isOk=!0),this.onChange&&this.onChange(t)}}})},function(t,e){t.exports={title:function(t){var e=/\w*(\d)\1{4}\w*/,n=/\w*([a-zA-Z])\1{4}\w*/,i=/\w*([^\x00-\xFF])\1{4}\w*/,a=/\w*([a-zA-Z]{2})\1{2}\w*/,o=/^[A-Za-z0-9]+$/,s=/[^\-\=\d\~\`!@#\$%\^&*\(\)<>,.:;'""\{\}\[\]\\_\?！￥……（）——【】《》，。；、？\|‘“”’\·\~]/;return!(e.test(t)||n.test(t)||a.test(t)||i.test(t)||o.test(t)||!s.test(t))}}},function(t,e){t.exports='<div class="mod_upload_filed" r-class="{mod_upload_filed_error: validate.errorCode != 0}">\n    <div class="upload_filed_label">\n        <label class="upload_filed_lbl" for="upload_filed_video_title"><span>标题</span><span class="sign_star">*</span></label>\n    </div>\n    <div class="upload_filed_tips_num" r-show="{wordLength > maxWordLength}">\n        <span class="count">\n            <b r-class="{tips_right_over: wordLength < minWordLength || wordLength > maxWordLength}"><span r-text>{wordLength}</span></b>/30\n        </span>\n    </div>\n    <div class="upload_filed_area">\n        <input class="upload_filed_txt j_video_title"\n               type="text"\n               r-class="{upload_filed_txt_error: validate.errorCode!=0}"\n               name="upload_filed_video_title"\n               id="upload_filed_video_title"\n               r-on="{\n                    keyup: _onKeyUp;\n                    blur : _onBlur;\n               }">\n    </div>\n    <div class="upload_filed_tips" r-show="{validate.errorCode!=0}"><span r-text>{validate.errorMsg}</span></div>\n</div>\n'},function(t,e,n){"use strict";var i=n(9),a=n(31),o=n(33),s=n(34),r=n(7),c=n(2),l=(n(12),n(17)),d=n(10),u=n(35).bid;t.exports=i.component("c-video-tag",{template:n(36),data:function(){return{om:!1,inputTagValue:"",showTips:!0,myTags:[],recommendTags:[],selectedTags:[],validate:{errorCode:0,errorMsg:""},isRequire:!0}},ready:function(){var t=c(this.$el).find(".recommend-tag-list")[0];this._recommend_tag_list=a(this,o)(this.$data.recommendTags).$appendTo(t);var e=c(this.$el).find(".selected-tag-list")[0];this._selected_tag_list=a(this,s)(this.$data.selectedTags).$appendTo(e);var n=c(this.$el).find(".my-tag-list")[0];this._my_tag_list=a(this,o)(this.$data.myTags).$appendTo(n),this.$set({om:d.get("bid")===u,isRequire:!(d.get("bid")===u)})},methods:{update:function(t){this.$set(t),this._selected_tag_list.$reset(this.$data.selectedTags),this._my_tag_list.$reset(this.$data.myTags);var e=this.val().length>0;this.$set({showTips:!e})},val:function(){return this.$data.selectedTags},triggerValidate:function(){return this._validate()},onTitleUpdate:function(t){var e=this,n=t.title||"";if(!r.trim(n))return e.$set("recommendTags",[]),e._recommend_tag_list.$reset([]),void e.$update();e._ajaxGetRecommendTag(n)},_ajaxGetRecommendTag:function(t){var e=this;l.titleTag({title:t},function(t,n){if(t);else{var i;i=r.filter(n.tags||[],function(t){return!!r.trim(t)})||[],e.$set("recommendTags",i),e._recommend_tag_list.$reset(i),e.$update()}})},_getTextRealString:function(t){var e=/[^\x00-\xFF]/g;return"string"!=typeof t?0:Math.ceil(t.replace(e,"**").length/2)},_validate:function(t){return this.$data.isRequire?t&&this.$data.selectedTags.length>4||!t&&this.$data.selectedTags.length>5?(this.$set("validate",{errorCode:-1,errorMsg:"最多5个标签"}),!1):t||0!==this.$data.selectedTags.length?void 0!==t&&this._getTextRealString(r.trim(t))>8?(this.$set("validate",{errorCode:-3,errorMsg:"每个标签最多8个汉字或16个字母！"}),!1):(this.$set("validate",{errorCode:0,errorMsg:""}),!0):(this.$set("validate",{errorCode:-2,errorMsg:"请填写标签，它可以让你的视频准确、快速地被搜索到，吸引更多观众哦：）"}),!1):t&&this.$data.selectedTags.length>4||!t&&this.$data.selectedTags.length>5?(this.$set("validate",{errorCode:-1,errorMsg:"最多5个标签"}),!1):void 0!==t&&this._getTextRealString(r.trim(t))>8?(this.$set("validate",{errorCode:-3,errorMsg:"每个标签最多8个汉字或16个字母！"}),!1):(this.$set("validate",{errorCode:0,errorMsg:""}),!0)},_addToSelected:function(t){-1===r.indexOf(this.$data.selectedTags,t)&&0!==r.trim(t).length&&this._validate(t)&&(this._selected_tag_list.$add(t),this.$data.selectedTags.push(t),this.$set("showTips",!(0!==this.$data.selectedTags.length)),this._onChange())},_removeFromSelected:function(t){this._selected_tag_list.$remove(t),this.$data.selectedTags.splice(t,1),this.$set("showTips",!(0!==this.$data.selectedTags.length)),this._validate(),this._onChange()},_onInputAddToSelected:function(t){var e=t.$currentTarget.value||"";if(13===t.keyCode||32===t.keyCode&&e.indexOf(" ")>0)this._addToSelected(e),this.$set("inputTagValue",""),t.$currentTarget.value="";else if(8===t.keyCode&&0===e.length){var n=this.$data.selectedTags.length;this._selected_tag_list.$remove(n-1),e=this.$data.selectedTags.pop()||"",this.$set("inputTagValue",e||""),t.$currentTarget.value=e||""}0===r.trim(e).length&&(this.$set("inputTagValue",""),t.$currentTarget.value=""),this.$set("showTips",!(e||0!==this.$data.selectedTags.length))},_onInputBlur:function(t){var e=t.$currentTarget.value||"";this._addToSelected(e),this.$set("inputTagValue",""),t.$currentTarget.value=""},_onTagAddToSelected:function(t){var e;e=t.$currentTarget.getAttribute("data-value"),this._addToSelected(e)},_onTagRemoveFromSelected:function(t){var e;e=t.$currentTarget.getAttribute("data-index"),this._removeFromSelected(e)},_onTipsClick:function(){c(this.$el).find(".j_video_tag_input").focus()},_onClickKeyWordPanel:function(){c(".j_video_tag_input").focus()},_updateKeyWordHeight:function(){var t=c(".j_mod_keyword"),e=c(".j_mod_keyword").width(),n=0,i=c(".j_video_tag_input").width();c(".j_keyword_item").each(function(t,e){n+=c(e).width()+16}),n>e-i?this.val().length<=5?t.css({height:"80px"}):t.css({height:"120px"}):t.css({height:"40px"}),c(".j_video_tag_input").focus()},_onChange:function(){this._updateKeyWordHeight(),this.onChange&&this.onChange(this.val())}}})},function(t,e,n){"use strict";var i=n(32);i.ctor(n(9)),t.exports=i},function(t,e,n){"use strict";function i(t){this._mounted=!1,this.$vm=t.vm,this.$template=t.template,this.$before=document.createComment("<repeat>"),this.$after=document.createComment("</repeat>"),this.$reset(t.data)}function a(t,e,n,i){var a="object"==r.type(n)?n:{},o={parent:t,data:r.extend({},t.$data,a,{$index:i,$value:n}),methods:r.extend({},t.$methods)};return"string"==r.type(e)?(o.template=e,o.replace=!0):e&&e.cloneNode?o.el=e.cloneNode(!0):o.template="<span>Illegal template option.</span>",new(s||window.Real||window.Reve)(o)}function o(t,e){return function(n){return new i({vm:t,template:e,data:n})}}var s,r=n(8),c=i.prototype
;c.$mounted=function(t){return this._mounted&&this.$before.parentNode},c.$reset=function(t){var e=this.$data=r.map(t||[],function(t){return t});if(this.$vms&&r.forEach(this.$vms,r.bind(function(t){this.$mounted()&&t.$el.parentNode.removeChild(t.$el)},this)),this.$vms=r.map(e,r.bind(function(t,e){return a(this.$vm,this.$template,t,e)},this)),this.$mounted()){var n=this.$before.parentNode,i=document.createComment("repeat-holder");n.appendChild(i),this.$mount(i)}return this},c.$remove=function(t){this.$data.splice(t,1);var e=[],n=this;return r.forEach(this.$vms,function(i,a){if(a>t)i.$set("$index",a-1);else if(a==t)return n.$mounted()&&i.$el.parentNode.removeChild(i.$el),void i.$destroy();e.push(i)}),this.$vms=e,this},c.$insert=function(t,e){this.$data.splice(t,0,e);var n=[],i=this;return r.forEach(this.$vms,function(o,s){if(s>t)o.$set("$index",s+1);else if(s==t){var r=a(i.$vm,i.$template,e,t);n.push(r),i.$mounted()&&o.$el.parentNode.insertBefore(r.$el,o.$el),o.$set("$index",s+1)}n.push(o)}),this.$vms=n,this},c.$add=function(t){this.$data.push(t);var e=a(this.$vm,this.$template,t,this.$vms.length);return this.$vms.push(e),this.$mounted()&&this.$after.parentNode.insertBefore(e.$el,this.$after),this},c.$concat=function(t){var e=this,n=this.$data.length;this.$data=this.$data.concat(t);var i,o=this.$mounted();return o&&(i=document.createDocumentFragment()),r.forEach(t,function(t,s){var r=a(e.$vm,e.$template,t,n+s);e.$vms.push(r),o&&i.appendChild(r.$el)}),o&&this.$after.parentNode.insertBefore(i,this.$after),this},c.$update=function(t,e){if(arguments.length){var n=this.$data[t],i=this.$vms[t];"object"!=r.type(n)&&(n=this.$data[t]=e);var a="object"==r.type(n)?n:{};i.$data=r.extend(i.$data,a,{$value:n}),i.$update()}else r.forEach(this.$vms,r.bind(function(t,e){var n=this.$data[e],i="object"==r.type(n)?n:{};t.$data=r.extend(t.$data,this.$vm.$data,i,{$value:n}),t.$update()},this));return this},c.$mount=function(t){this._mounted=!0;var e=t.parentNode,n=document.createDocumentFragment();return n.appendChild(this.$before),r.forEach(this.$vms,function(t){n.appendChild(t.$el)}),n.appendChild(this.$after),e.replaceChild(n,t),this},c.$appendTo=function(t){this._mounted=!0;var e=document.createComment("repeat-holder");return t.appendChild(e),this.$mount(e)},o.ctor=function(t){s=t},t.exports=o},function(t,e){t.exports='<li r-on="{click: _onTagAddToSelected}" r-attr="{data-value: $value}">\n    <a href="javascript:;"><span r-text>{$value}</span></a>\n</li>'},function(t,e){t.exports='<span class=\'keyword_item j_keyword_item\'>\n    <b class="keyword_item_inner"><span r-text>{$value}</span></b>\n    <a href="javascript:void(0);" class="btn_keyword_del"  r-on="{click: _onTagRemoveFromSelected}" r-attr="{data-index: $index}"><span>×</span></a>\n</span>\n'},function(t,e){t.exports={bid:"open_omg_video",businessID:24,style:location.protocol+"//mats.gtimg.com/om/om_2.0/css/style.video.160224.css"}},function(t,e){t.exports='<div class="mod_upload_filed mod_upload_filed_keyword">\n    <div class="upload_filed_label mod_explain_keyword">\n        <label class="upload_filed_lbl" for="upload_filed_video_keyword">\n            <span>标签</span><span class="sign_star">*</span>\n            <div class="mod_explain" r-show="{!om}">\n                <i class="ico_question"></i>\n                <div class="mod_explain_pop">\n                    <i class="triangle_up triangle_up_wrap"><i class="triangle_up"></i></i>\n                    <div class="explain_cont">\n                        <p class="explain_txt">标签用空格分开。填写与视频内容相关的标签，你的视频更容易被搜到</p>\n                    </div>\n                </div>\n            </div>\n        </label>\n    </div>\n    <div class="upload_filed_area">\n        <div class="mod_keyword j_mod_keyword" style="white-space: inherit; display:block;cursor: text;" r-on="{click: _onClickKeyWordPanel}">\n            <span class=\'selected-tag-list\'></span>\n            <input type="text"\n                   class="keyword_ipt j_video_tag_input"\n                   style="width: 100px;"\n                   id="upload_filed_video_keyword"\n                   r-on="{keyup: _onInputAddToSelected; blur: _onInputBlur}">\n        </div>\n    </div>\n    \x3c!-- 输入提示 --\x3e\n    <div class="upload_filed_tips_keyword" r-show="{om}">最多5个标签，每个标签最多8个字；使用 空格 或 Enter 隔开多个标签</div>\n\n    \x3c!-- 我的标签 --\x3e\n    <div class="mod_mytag" r-show="{myTags.length > 0}">\n        <span class="mod_mytag_tit" style="width: auto;">我的标签：</span>\n        <ul class=\'my-tag-list\'></ul>\n    </div>\n    \x3c!-- 推荐标签 --\x3e\n    <div class="mod_mytag" r-show="{recommendTags.length > 0}">\n        <span class="mod_mytag_tit" style="width: auto;">推荐标签：</span>\n        <ul class=\'recommend-tag-list\'></ul>\n    </div>\n    \x3c!-- 出错提示 --\x3e\n    <div class="upload_filed_tips" r-show="{validate.errorCode!=0}"><span r-text>{validate.errorMsg}</span></div>\n</div>\n'},function(t,e,n){"use strict";var i=n(9),a=(n(31),n(7),n(38)),o=n(39),s=n(2),r=n(40),c=n(17);t.exports=i.component("c-video-category",{template:n(41),data:function(){return{categoryList:o,newcat:"",newsubcat:"",validate:{errorCode:0,errorMsg:""},arrow:!1}},ready:function(){var t=this;c.catemap({},function(e,n){if(e);else{t.$data.categoryList=n;var i=r.compile(a)({list:n});s(t.$el).find(".category-list").append(t.$compile(i))}})},methods:{update:function(t){this.$set(t)},val:function(){if(this.$data.newcat&&this.$data.newsubcat)return this.$data.newcat+"-"+this.$data.newsubcat},triggerValidate:function(){return this._validate()},_validate:function(){return this.val()?(this.$set("validate",{errorCode:0,errorMsg:""}),!0):(this.$set("validate",{errorCode:-1,errorMsg:"请选择视频分类，让你的视频和它的同类在一起：)"}),!1)},_onClickCategory:function(t){var e=t.$currentTarget.getAttribute("data-value");if(e){var n=e.split("-")||[],i=n[0]||"",a=n[1]||"";this.$set({newcat:i,newsubcat:a}),this._toggleShowCategoryList(),this._validate(),this._onChange()}},_onChange:function(){this.onChange&&this.onChange(this.val())},_toggleShowCategoryList:function(){s(this.$el).find(".j_category_panel").toggle(),this.$data.arrow=!this.$data.arrow,this.$update()}}})},function(t,e){t.exports='{{each list as value index}}\n    <li>\n        <span class="label">{{value.cat}}</span>\n        {{each value.subcats.subcat as c i}}\n        <a href="javascript:;"\n           r-on="{click: _onClickCategory}"\n           data-value="{{value.cat}}-{{c}}"\n           style="padding-right: 12px;">\n            <span>{{c}}</span>\n        </a>\n        {{/each}}\n    </li>\n{{/each}}\n'},function(t,e){"use strict";t.exports=[{title:"电影",list:["电影周边","电影资讯","电影剪辑","微电影","影评"]},{title:"电视剧",list:["电视剧剪辑","电视剧片花","剧集周边","网络剧"]},{title:"动漫",list:["连载动画","原创动画","动漫周边","宅文化"]},{title:"新闻",list:["国内时政","国内民生","国际时政","国际社会","社会百态","人物访谈","地方政务","奇闻趣事","法制","反腐","交通","安全","正能量"]},{title:"娱乐",list:["综艺节目","明星资讯","舞台剧","魔术","戏曲"]},{title:"搞笑",list:["鬼畜","奇趣","段子剧","神回复","熊孩子","恶搞糗事","爆笑原创","爆笑动物","爆笑恶搞","相声小品"]},{title:"体育",list:["篮球","足球","体育趣闻","体育教学","综合体育"]},{title:"音乐",list:["演出现场","官方MV","原创音乐","音乐节目","恶搞音乐","翻唱","演奏"]},{title:"舞蹈",list:["舞蹈MV","热舞现场","舞蹈达人","舞蹈教学","舞蹈比赛","舞蹈练习室"]},{title:"广场舞",list:["广场舞教学","广场舞欣赏"]},{title:"少儿",list:["儿歌","益智","少儿动画","少儿剧场","亲子成长","少儿节目"]},{title:"游戏",list:["手机游戏","网络游戏","单机游戏","游戏节目","达人解说","电竞赛事","游戏展会","游戏周边"]},{title:"财经",list:["公司","创业","经济","消费","投资","理财","产经","股市","金融","房地产","财经人物"]},{title:"军事",list:["军情解读","军事节目","武器装备","战争历史"]},{title:"生活",list:["宠物","美食","两性","星座","情感","健康","休闲","健身","家居","生活窍门","风水命理"]},{title:"时尚",list:["时尚资讯","时尚大片","美容化妆","潮流奢品","男士时尚","T台秀场","穿搭"]},{title:"母婴",list:["孕产","喂养","早教","萌宝","保健护理"]},{title:"教育",list:["演讲","公开课","职场教育","升学考试","技能教育","校园内外","人生课堂","外语学习"]},{title:"旅游",list:["境内游","境外游","旅行攻略","旅行趣闻"]},{title:"数码",list:["评测","产品资讯","智能生活","数码其他"]},{title:"汽车",list:["新车速递","试驾评测","汽车资讯","用车之道","玩车","车模","汽车其他"]},{title:"纪录片",list:["纪录片"]},{title:"文化历史",list:["读书","艺术","宗教","历史"]},{title:"科学",list:["科学实验","太空探索","科学其他"]},{title:"科技",list:["机械","互联网","科技前沿","科技奇趣","航空航天"]},{title:"科普",list:["科普"]},{title:"其他",list:["广告","创意","自拍","摄影","公益短片"]}]},function(t,e,n){!function(){function e(t){return t.replace($,"").replace(b,",").replace(x,"").replace(w,"").replace(C,"").split(S)}function n(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function i(t,i){function a(t){return p+=t.split(/\n/).length-1,d&&(t=t.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),t&&(t=m[1]+n(t)+m[2]+"\n"),t}function o(t){var n=p;if(l?t=l(t,i):s&&(t=t.replace(/\n/g,function(){return"$line="+ ++p+";"})),0===t.indexOf("=")){var a=u&&!/^=[=#]/.test(t);if(t=t.replace(/^=[=#]?|[\s;]*$/g,""),a){var o=t.replace(/\s*\([^\)]+\)/,"");f[o]||/^(include|print)$/.test(o)||(t="$escape("+t+")")}else t="$string("+t+")";t=m[1]+t+m[2]}return s&&(t="$line="+n+";"+t),_(e(t),function(t){if(t&&!h[t]){var e;e="print"===t?$:"include"===t?b:f[t]?"$utils."+t:v[t]?"$helpers."+t:"$data."+t,x+=t+"="+e+",",h[t]=!0}}),t+"\n"}var s=i.debug,r=i.openTag,c=i.closeTag,l=i.parser,d=i.compress,u=i.escape,p=1,h={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},g="".trim,m=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],y=g?"$out+=text;return $out;":"$out.push(text);",$="function(){var text=''.concat.apply('',arguments);"+y+"}",b="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+y+"}",x="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(s?"$line=0,":""),w=m[0],C="return new String("+m[3]+");";_(t.split(r),function(t){t=t.split(c);var e=t[0],n=t[1];1===t.length?w+=a(e):(w+=o(e),n&&(w+=a(n)))});var S=x+w+C;s&&(S="try{"+S+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+n(t)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var k=new Function("$data","$filename",S);return k.prototype=f,k}catch(t){throw t.temp="function anonymous($data,$filename) {"+S+"}",t}}var a=function(t,e){return"string"==typeof e?m(e,{filename:t}):r(t,e)};a.version="3.0.0",a.config=function(t,e){o[t]=e};var o=a.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},s=a.cache={};a.render=function(t,e){return m(t,e)};var r=a.renderFile=function(t,e){var n=a.get(t)||g({filename:t,name:"Render Error",message:"Template not found"});return e?n(e):n};a.get=function(t){var e;if(s[t])e=s[t];else if("object"==typeof document){var n=document.getElementById(t);if(n){var i=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");e=m(i,{filename:t})}}return e};var c=function(t,e){return"string"!=typeof t&&(e=typeof t,"number"===e?t+="":t="function"===e?c(t.call(t)):""),t},l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},d=function(t){return l[t]},u=function(t){return c(t).replace(/&(?![\w#]+;)|[<>"']/g,d)},p=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},h=function(t,e){var n,i;if(p(t))for(n=0,i=t.length;n<i;n++)e.call(t,t[n],n,t);else for(n in t)e.call(t,t[n],n)},f=a.utils={$helpers:{},$include:r,$string:c,$escape:u,$each:h};a.helper=function(t,e){v[t]=e};var v=a.helpers=f.$helpers;a.onerror=function(t){var e="Template Error\n\n";for(var n in t)e+="<"+n+">\n"+t[n]+"\n\n";"object"==typeof console&&console.error(e)};var g=function(t){return a.onerror(t),function(){return"{Template Error}"}},m=a.compile=function(t,e){function n(n){try{return new c(n,r)+""}catch(i){return e.debug?g(i)():(e.debug=!0,m(t,e)(n))}}e=e||{};for(var a in o)void 0===e[a]&&(e[a]=o[a]);var r=e.filename;try{var c=i(t,e)}catch(t){return t.filename=r||"anonymous",t.name="Syntax Error",g(t)}return n.prototype=c.prototype,n.toString=function(){return c.toString()},r&&e.cache&&(s[r]=n),n},_=f.$each,y="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",$=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,b=/[^\w$]+/g,x=new RegExp(["\\b"+y.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,C=/^,+|,+$/g,S=/^$|,+/;o.openTag="{{",o.closeTag="}}";var k=function(t,e){var n=e.split(":"),i=n.shift(),a=n.join(":")||"";return a&&(a=", "+a),"$helpers."+i+"("+t+a+")"};o.parser=function(t,e){t=t.replace(/^\s/,"");var n=t.split(" "),i=n.shift(),o=n.join(" ");switch(i){case"if":t="if("+o+"){";break;case"else":n="if"===n.shift()?" if("+n.join(" ")+")":"",t="}else"+n+"{";break;case"/if":t="}";break;case"each":var s=n[0]||"$data",r=n[1]||"as",c=n[2]||"$value",l=n[3]||"$index",d=c+","+l;"as"!==r&&(s="[]"),t="$each("+s+",function("+d+"){";break;case"/each":t="});";break;case"echo":t="print("+o+");";break;case"print":case"include":t=i+"("+n.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(o)){var u=!0;0===t.indexOf("#")&&(t=t.substr(1),u=!1);for(var p=0,h=t.split("|"),f=h.length,v=h[p++];p<f;p++)v=k(v,h[p]);t=(u?"=":"=#")+v}else t=a.helpers[i]?"=#"+i+"("+n.join(",")+");":"="+t}return t},t.exports=a}()},function(t,e){t.exports='<div class="mod_upload_filed mod_upload_filed_slt" style="z-index: 100;">\n    <div class="upload_filed_label">\n        <label class="upload_filed_lbl"><span>分类</span><span class="sign_star">*</span></label>\n    </div>\n    <div class="upload_filed_area">\n        <div class="upload_filed_slt">\n            \x3c!-- 默认的分类 --\x3e\n            <a href="javascript:void(0);" class="upload_filed_slt_txt" r-on="{click: _toggleShowCategoryList}" r-style="{display: newcat == \'\' ? \'block\' : \'none\';}">\n                <span>选择分类</span>\n                <i class="btn_select" r-class="{open: arrow}" style="background: none;">\n                    <span>▼</span>\n                </i>\n            </a>\n\n            \x3c!-- 选择分类后显示 --\x3e\n            <a href="javascript:void(0);" class="upload_filed_slt_txt" r-on="{click: _toggleShowCategoryList}" r-style="{display: newcat != \'\' ? \'block\' : \'none\';}">\n                 <span>\n                     <em class="slt_txt"><span r-text>{newcat}</span><i class="arrow" style="padding:0;"> &gt; </i><span r-text>{newsubcat}</span></em>\n                 </span>\n                <i class="btn_select"><span>▼</span></i>\n            </a>\n\n            <div class="upload_filed_slt_pop j_category_panel">\n                <ul class="upload_filed_slt_pop_list scroll_wrap category-list" r-on="{click: _onClickCategory}"></ul>\n            </div>\n        </div>\n    </div>\n    <div class="upload_filed_tips" r-show="{validate.errorCode != 0}"><span r-text>{validate.errorMsg}</span></div>\n</div>\n'},function(t,e,n){"use strict";var i=n(9),a=n(7),o=(n(10),n(2));t.exports=i.component("c-video-desc",{template:n(43),data:function(){return{desc:"",wordLength:0,maxWordLength:200,minWordLength:1,validate:{errorCode:0,errorMsg:""},title:"",isRequire:isVplus}},ready:function(){this.$set({isRequire:isVplus})},methods:{update:function(t){this.$set(t),o(this.$el).find(".j_video_desc").val(this.val()),this.val()?this._getLength():(this.$data.wordLength=0,this.$update())},val:function(){return this.$data.desc},triggerValidate:function(){return this._validate()},onTitleUpdate:function(t){this.$set({title:t.title})},_getLength:function(){var t=this.val()||"",e=/[^\x00-\xFF]/g;if("string"!=typeof t)return 0;var n=Math.ceil(t.replace(e,"**").length/2);return this.$set("wordLength",n),n},_validate:function(){var t=this.val(),e=!1,n="",i=0;return this.$data.isRequire?a.trim(t).length?this._getLength()<1?(i=-2,n="说明下您视频的精彩之处可以吸引更多的观众哦"):this._getLength()>200?(i=-3,n="简介太长了，不应超过200个汉字或400个字母！"):a.trim(this.$data.title)===a.trim(t)&&0!=a.trim(t).length?(i=-4,n="不要与视频标题雷同哇~"):e=!0:(i=-1,n="说明下您视频的精彩之处可以吸引更多的观众哦"):this._getLength()>200?(i=-3,n="简介太长了，不应超过200个汉字或400个字母！"):a.trim(this.$data.title)===a.trim(t)&&0!=a.trim(t).length?(i=-4,n="不要与视频标题雷同哇~"):e=!0,this.$set("validate",{errorCode:i,errorMsg:n}),e},_onChange:function(){this.onChange&&this.onChange(this.val())},_onKeyUp:function(t){var e=t.$currentTarget.value;e=o.trim(e),this.$set({desc:e}),13==t.keyCode&&this._onChange(),this._validate(),this._getLength()},_onBlur:function(t){var e=t.$currentTarget.value;e=o.trim(e),o(t.$currentTarget).val(e),this.$set({desc:e}),this._validate(),this._getLength(),this._onChange()}}})},function(t,e){t.exports='<div class="mod_upload_filed mod_upload_filed_recom">\n    <div class="upload_filed_label">\n        <label class="upload_filed_lbl" for="upload_filed_video_recom"><span>简介</span><span class="sign_star" r-show="{isRequire}">*</span></label>\n    </div>\n    <div class="upload_filed_tips_num tips_bottom" style="top: inherit; right: 10px; bottom: 25px;left: inherit;" r-show="{wordLength > maxWordLength}">\n        <span class="count">\n            <b r-class="{tips_right_over: isRequire && (wordLength < minWordLength || wordLength > maxWordLength)}"><span r-text>{wordLength}</span></b>/200\n        </span>\n    </div>\n    <div class="upload_filed_area">\n        <textarea class="upload_filed_txa j_video_desc"\n                  r-class="{upload_filed_txa_error: validate.errorCode!=0}"\n                  type="text" name="upload_filed_video_recom" id="upload_filed_video_recom"\n                  style="max-height: 120px; height: 200px;"\n                  r-on="{\n                     keyup: _onKeyUp;\n                     vchange: _onChange;\n                     blur: _onBlur;\n                  }"></textarea>\n    </div>\n    <div class="upload_filed_tips" r-show="{validate.errorCode!=0}"><span r-text>{validate.errorMsg}</span></div>\n</div>\n'},function(t,e,n){"use strict";var i=n(9),a=n(2),o={500:"单片付费 5元",0:"免费"},s=n(10);t.exports=i.component("c-video-pay",{template:n(45),data:function(){return{isRequire:window.isPay,type:"",price:"",priceText:o[0],isNeed:"open_omg_video"!==s.get("bid")}},ready:function(){this.$set({isRequire:window.isPay})},methods:{val:function(){return{vidpay:0!=this.$data.price&&""!=this.$data.price?1:0,paytype:this.$data.type,vidprice:this.$data.price}},_toggle:function(){a(this.$el).find(".j_pay_panel").toggle()},_select:function(t){var e=t.$currentTarget.getAttribute("data-price"),n=t.$currentTarget.getAttribute("data-type");this.$set({price:e,type:n,priceText:o[e]}),a(this.$el).find(".j_pay_panel").hide(),this.onChange&&this.onChange()}}})},function(t,e){t.exports='<div class="mod_upload_filed mod_paid" r-style="{display: isRequire ? \'block\' : \'none\';}">\n    <div class="upload_filed_label">\n        <label class="upload_filed_lbl"><span>付费</span><span class="sign_star">*</span></label>\n    </div>\n    <div class="upload_filed_area">\n        <div class="upload_filed_slt">\n            <a href="javascript:void(0);" class="upload_filed_slt_txt" r-on=\'{click: _toggle}\'>\n                <span class="paid_text_inner"><span r-text>{priceText}</span></span><i class="btn_select"><span>▼</span></i>\n            </a>\n            <div class="upload_filed_slt_pop j_pay_panel">\n                <ul class="mod_paid_list" id="paid_option">\n                    <li class="list_item" data-price="0" data-type="1" r-on="{click: _select}">\n                        <span class="name" data-price="0" data-type="1">免费</span>\n                    </li>\n                    <li class="list_item" data-price="500" data-type="1" r-on="{click: _select}">\n                        <span class="name" data-price="500" data-type="1">单片付费 5元</span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e,n){"use strict";var i=n(9),a=n(7),o=n(2);n(47);var s=n(10),r=n(53),c="";if(top&&top.getVideoParam){c=(top.getVideoParam()||{}).uid}else c=a.cookie.get("uin");r.config({bid:s.get("bid"),uid:c,ua:window.navigator.userAgent}),t.exports=i.component("c-video-preview",{template:n(56),data:function(){return{vid:"",title:"",tags:[],cover:"",previewCover:"",showSetting:!1}},methods:{update:function(t){t.vid&&(this.$data.vid=t.vid),void 0!==t.tags&&(this.$data.tags=t.tags),void 0!==t.title&&(this.$data.title=t.title),this.onTagsUpdate(this.$data.tags||[]),this.$update(),t.vid&&this.fetchServerCover()},val:function(){return this.$data.cover==this.$data.previewCover?"":this.$data.cover},onTagsUpdate:function(t){t=t||[];var e="",n=0;a.forEach(t,function(t){t=o.trim(t),(n+=12*t.length+16)<=215&&(e+='<a href="javascript:;" style="cursor: default;"><span>{{tag}}</span></a>'.replace("{{tag}}",t))}),o(".j_video_tags").html(e)},fetchServerCover:function(){if(this.$data.vid){var t=this,e=o("<img>"),n=a.getCoverSrcByVid(this.$data.vid,!0);e.on("load",function(){t.$set({cover:n,previewCover:n})}),e.attr("src",n),setTimeout(function(){t.$data&&""==t.$data.cover&&t.fetchServerCover&&t.fetchServerCover()},3e4)}},onCoverChange:function(t){this.$set({cover:t.cover}),this.onChange&&this.onChange({cover:t.cover})},_onClickSetting:function(){this.$refs.coverSetting.update({vid:this.$data.vid}),this.$refs.coverSetting.show(),r.report({module:"video-upload",preview:"1"})}}})},function(t,e,n){"use strict";var i=n(9),a=n(17),o=n(2),s=n(7),r=n(48),c=n(10),l=n(31),d=n(49),u=r[c.get("bid")]||r.v;n(50);var p,h=n(53),f="";if(top&&top.getVideoParam){f=(top.getVideoParam()||{}).uid}else f=s.cookie.get("uin");h.config({bid:c.get("bid"),uid:f,ua:window.navigator.userAgent});t.exports=i.component("c-video-cover-setting",{template:n(55),data:function(){return{vid:"",type:!window.isVplus||txv&&txv.util&&txv.util.getUrlParam("act")?"sys":"up",hasUploadPic:window.isVplus&&!(txv&&txv.util&&txv.util.getUrlParam("act")),noSystemCoverTips:window.isVplus?"视频处理中，暂无系统封面，请使用上传封面":"视频处理中，暂无系统封面",showSetting:!1,cover:"",clipData:{x:0,y:0,width:0,height:0},isOk:!1,om:!1,status:"",saveStatus:"",timeSpan:"?t="+(new Date).getTime(),systemCover:[],sysCoverFailedCount:0,defaultCover:location.protocol+"//i.gtimg.cn/qqlive/images/20150608/pic_h.png",currentSysCover:"",currentSysIndex:-1,coverPopStyle:u?u.videoPreview.coverSetting.pop:""}},methods:{update:function(t){t=t||{},this.$set({vid:t.vid,type:!window.isVplus||txv&&txv.util&&txv.util.getUrlParam("act")?"sys":"up",hasUploadPic:window.isVplus&&!(txv&&txv.util&&txv.util.getUrlParam("act")),noSystemCoverTips:!window.isVplus||txv&&txv.util&&txv.util.getUrlParam("act")?"视频处理中，暂无系统封面":"视频处理中，暂无系统封面，请使用上传封面",om:"open_omg_video"===c.get("bid")}),this.$refs.cUploadCover.update({status:1}),this.fetchServerSystemCover()},show:function(){this.$set({showSetting:!0})},hide:function(){this.$set({showSetting:!1})},toggleTab:function(t){var e=t.$currentTarget.getAttribute("data-type");this.$set("type",e),h.report({module:"video-upload",preview:"up"===e?"2":"3"})},fetchServerSystemCover:function(){var t=this,e=o(".j_system_cover");this.$data.systemCover&&this.$data.systemCover.length>0?(this.$data.sysCoverFailedCount=0,e.html(""),this._system_cover_list=l(this,d)(this.$data.systemCover).$appendTo(e[0]),this.$update()):this.$data.vid&&a.info({vid:this.$data.vid,uc:0,rc:0,g_tk:o.getToken()},function(e,n){var i=n&&n.plst||[],a=s.map(i,function(t){var e=t.pic;return"https:"===location.protocol&&-1===t.pic.indexOf("https")&&(e=e.replace("http:","https:")),e});t.$data.sysCoverFailedCount=0,t.$data.systemCover=a,o(".j_system_cover").html("");var r=o(".j_system_cover")[0];t._system_cover_list=l(t,d)(a).$appendTo(r),t.$update()})},_setSystemCover:function(t){var e=t.$currentTarget.getAttribute("data-src"),n=t.$currentTarget.getAttribute("data-index");null!=n&&void 0!=n&&e!=this.$data.defaultCover&&(this.$set({currentSysIndex:n,currentSysCover:e,cover:e,isOk:!0}),this._system_cover_list.$update())},_onPicError:function(t){var e=this,n=t.$currentTarget.getAttribute("data-index");this.$data.sysCoverFailedCount++,0!==this.$data.sysCoverFailedCount&&(clearTimeout(p),p=setTimeout(function(){e.$data&&(e.$data.timeSpan="?t="+(new Date).getTime()),e.fetchServerSystemCover&&e.fetchServerSystemCover()},3e4)),this.$update(),this._system_cover_list.$update(n,this.$data.defaultCover)},saveSys:function(){h.report({module:"video-preview",preview:"7"}),this.onSave()},_setUploadCover:function(t){void 0===t?this.$set({isOk:!1,type:"up",cover:"",currentSysCover:"",currentSysIndex:-1}):this.$set({cover:t.src,clipData:t.clipData})},_setUploadStatus:function(t){this.$set(t)},saveClip:function(){var t=this.$data.clipData,e=this;"pending"!=e.$data.saveStatus&&(e.$set({saveStatus:"pending"}),a.clip({x:t.x,y:t.y,width:t.width,height:t.height,url:this.$data.cover,opt:7},function(t,n){if(e.$set({saveStatus:""}),t){var i=t.msg||"服务器出错了, 请稍后尝试 ( 错误码："+t.code+")",a=t.code;""===a?e.$refs.cUploadCover.update({status:-1,msg:i}):e.$refs.cUploadCover.update({status:-1,msg:"图片裁剪失败了(错误码："+a+")"}),e.$data.isOk=!1,e.$update()}else if(n&&"o"==n.s){e.$data.isOk=!0;var o=n.path;e.$data.cover=o,e.$update(),h.report({module:"video-upload",preview:"6"}),e.onSave()}}))},_onCoverChange:function(){this.$data.isOk&&this.onChange&&this.onChange({cover:this.$data.cover})},onCancel:function(){this.$set({vid:"",type:"up",showSetting:!1,cover:"",clipData:{x:0,y:0,width:0,height:0},isOk:!1,om:!1,status:"",saveStatus:"",timeSpan:"?t="+(new Date).getTime(),systemCover:[],currentSysCover:"",currentSysIndex:-1})},onSave:function(){this._onCoverChange(),this.$set({vid:"",type:"up",showSetting:!1,cover:"",clipData:{x:0,y:0,width:0,height:0},isOk:!1,om:!1,status:"",saveStatus:"",timeSpan:"?t="+(new Date).getTime(),systemCover:[],currentSysCover:"",currentSysIndex:-1}),this.$refs.cUploadCover.update({status:1})}}})},function(t,e){"use strict";t.exports={common:{jcrop:".jcrop-holder{direction:ltr;text-align:left;}.jcrop-vline,.jcrop-hline{font-size:0;position:absolute;}.jcrop-vline{height:100%;width: 0; border: 1px dashed #0093e0;}.jcrop-vline.right{right:0;}.jcrop-hline{height:0;width:100%; border: 1px dashed #0093e0;}.jcrop-hline.bottom{bottom:0;}.jcrop-tracker{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;height:100%;width:100%;}.jcrop-handle{background-color:#333;border:1px #EEE solid;font-size:1px;height:7px;width:7px;}.jcrop-handle.ord-n{left:50%;margin-left:-4px;margin-top:-4px;top:0;}.jcrop-handle.ord-s{bottom:0;left:50%;margin-bottom:-4px;margin-left:-4px;}.jcrop-handle.ord-e{margin-right:-4px;margin-top:-4px;right:0;top:50%;}.jcrop-handle.ord-w{left:0;margin-left:-4px;margin-top:-4px;top:50%;}.jcrop-handle.ord-nw{left:0;margin-left:-4px;margin-top:-4px;top:0;}.jcrop-handle.ord-ne{margin-right:-4px;margin-top:-4px;right:0;top:0;}.jcrop-handle.ord-se{bottom:0;margin-bottom:-4px;margin-right:-4px;right:0;}.jcrop-handle.ord-sw{bottom:0;left:0;margin-bottom:-4px;margin-left:-4px;}.jcrop-dragbar.ord-n,.jcrop-dragbar.ord-s{height:7px;width:100%;}.jcrop-dragbar.ord-e,.jcrop-dragbar.ord-w{height:100%;width:7px;}.jcrop-dragbar.ord-n{margin-top:-4px;}.jcrop-dragbar.ord-s{bottom:0;margin-bottom:-4px;}.jcrop-dragbar.ord-e{margin-right:-4px;right:0;}.jcrop-dragbar.ord-w{margin-left:-4px;}.jcrop-light .jcrop-vline,.jcrop-light .jcrop-hline{background:#FFF;filter:alpha(opacity=70)!important;opacity:.70!important;}.jcrop-light .jcrop-handle{-moz-border-radius:3px;-webkit-border-radius:3px;background-color:#000;border-color:#FFF;border-radius:3px;}.jcrop-dark .jcrop-vline,.jcrop-dark .jcrop-hline{background:#000;filter:alpha(opacity=70)!important;opacity:.7!important;}.jcrop-dark .jcrop-handle{-moz-border-radius:3px;-webkit-border-radius:3px;background-color:#FFF;border-color:#000;border-radius:3px;}.solid-line .jcrop-vline,.solid-line .jcrop-hline{background:#FFF;}.jcrop-holder img,img.jcrop-preview{max-width:none;}"},open_omg_video:{videoPreview:{coverSetting:{pop:"width: 460px;height: 332px; position:relative; top:0; left:0;"}}},v:{videoPreview:{coverSetting:{pop:""}}}}},function(t,e){t.exports='<li class="item" r-on="{click: _setSystemCover}" r-attr="{data-src: $value ; data-index: $index}" r-class="{selected: currentSysIndex == $index}">\n    <img r-attr="{src: $value ? $value + timeSpan : \'\'; data-index: $index}" r-on="{error: _onPicError}" width="124px" height="70px">\n    <span class="icon_select"></span>\n</li>\n'},function(t,e,n){"use strict";function i(t,e){var n=null;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(i,a)},e)}}var a=n(9),o=n(7),s=n(2),r=(n(51),n(52)),c=n(17),l=n(10),d="open_omg_video",u=n(53),p="";if(top&&top.getVideoParam){p=(top.getVideoParam()||{}).uid}else p=o.cookie.get("uin");u.config({bid:l.get("bid"),uid:p,ua:window.navigator.userAgent});var h={"-3018":"您上传的封面图不符合规范（含二维码），请重新上传"};t.exports=a.component("c-upload-cover",{template:n(54),data:function(){var t=(new Date).getTime();return{cover:"",clipData:{x:""+(Math.round(5/240*1e4)/100).toFixed(2),y:""+(Math.round(5/135*1e4)/100).toFixed(2),width:""+(Math.round(11250)/100).toFixed(2),height:""+(Math.round(2e4)/100).toFixed(2)},defaultClipData:{x:5,y:5,width:270,height:Math.round(151.875)},previewCover:"",progress:0,errMsg:"",om:!1,startClipDrop:!1,status:1,uploadTips:l.get("bid")===d?"建议上传640*360的图片，支持最大2MB，格式为jpg、jpeg和png的图片":"建议上传750*422的图片，支持最大2MB，格式为jpg、jpeg和png的图片",fileOneId:t+"_cover_file_1",fileTwoId:t+"_cover_file_2",fileThreeId:t+"_cover_file_3",uploadingBtnId:t+"_uploading_btn",uploadSuccessBtnId:t+"_upload_success_btn",uploadErrorBtnId:t+"_upload_error_btn",previewCoverId:t+"_preview-cover",uploadCoverId:t+"_upload-cover"}},ready:function(){r.setCgi(c.uploadCoverImg),this._clipChangeCallback=i(function(t,e,n,i){this.$set({clipData:{x:""+(Math.round(1e4*t)/100).toFixed(2),y:""+(Math.round(1e4*e)/100).toFixed(2),width:""+(Math.round(1e4*n)/100).toFixed(2),height:""+(Math.round(1e4*i)/100).toFixed(2)}}),this.onChange({src:this.$data.cover,clipData:this.$data.clipData})},50),this.$set({om:l.get("bid")===d})},methods:{update:function(t){this.$set({status:t.status,errMsg:t.msg?t.msg:""}),this.bindUploadChange(),this.fixIe()},fixIe:function(){0==s("#"+this.$data.fileOneId).length&&s("#"+this.$data.uploadErrorBtnId).append(s('<input type="file" id='+this.$data.fileOneId+' name="img" class="upload_img_file_input">')),0==s("#"+this.$data.fileTwoId).length&&s("#"+this.$data.uploadingBtnId).append(s('<input type="file" id='+this.$data.fileTwoId+' name="img" class="upload_img_file_input">')),0==s("#"+this.$data.fileThreeId).length&&s("#"+this.$data.uploadSuccessBtnId).append(s('<input type="file" id='+this.$data.fileThreeId+' name="img" class="upload_img_file_input">')),this.bindUploadChange()},bindUploadChange:function(){function t(t){t=t||window.event,u.report({module:"video-upload",preview:"4"});var n=t.target;n.setAttribute("hidden",!0);var i={bid:l.get("bid"),img:t.target,opt:7,g_tk:s.getToken()};l.get("bid")===d&&(i.open_uid=l.get("uid"),i.open_token=l.get("token")),e.$set({errMsg:""}),r.upload({data:i,success:function(t){"o"==t.s?e.uploadSuccess(t):e.uploadError(t),n.removeAttribute("hidden")},error:function(t){e.uploadError(t),n.removeAttribute("hidden")},progress:function(t){e.uploadProgress(t),n.removeAttribute("hidden")}})}var e=this;s("#"+this.$data.fileOneId).off("change").on("change",t),s("#"+this.$data.fileTwoId).off("change").on("change",t),s("#"+this.$data.fileThreeId).off("change").on("change",t)},uploadProgress:function(t){t&&"formpost"===t.uploadType&&(this.uploadType="formpost",0==s("#"+this.$data.fileTwoId).length&&(s("#"+this.$data.uploadingBtnId).append(s('<input type="file" id="'+this.$data.fileTwoId+'" name="img" class="upload_img_file_input">')),this.bindUploadChange()));var e=t.loaded?Math.round(t.loaded/t.total*100):0;0==e?e="":e+="%",this.$set({progress:e,status:2,errMsg:""}),this.changeStatus({status:"uploading"})},uploadSuccess:function(t){t&&"formpost"===t.uploadType&&(this.uploadType="formpost",
0==s("#"+this.$data.fileThreeId).length&&(s("#"+this.$data.uploadSuccessBtnId).append(s('<input type="file" id="'+this.$data.fileThreeId+'" name="img" class="upload_img_file_input">')),this.bindUploadChange())),s(".upload_img_file_input").val("");var e=t.path;this.$set({cover:e,previewCover:e,progress:100,status:3,errMsg:""}),this.changeStatus({status:"uploadpreview"}),this.onChange({src:t.path,clipData:this.$data.clipData}),this.clipCover()},uploadError:function(t){t&&"formpost"===t.uploadType&&(this.uploadType="formpost",0==s("#"+this.$data.fileOneId).length&&(s("#"+this.$data.uploadErrorBtnId).append(s('<input type="file" id="'+this.$data.fileOneId+'" name="img" class="upload_img_file_input">')),this.bindUploadChange())),s(".upload_img_file_input").val("");var e=t.em||t.code,n=h[e]||(t.msg?t.msg:"图片上传失败啦，试试重新上传~ (错误码："+e+")");this.$set({progress:0,status:-1,errMsg:n}),this.onChange(),this.changeStatus({status:"uploaderror"})},clipCover:function(){var t=this,e=this.$data.defaultClipData,n=e.x,i=e.y,a=e.x+e.width,r=e.y+e.height;if(t.jcropApi){var c='<img src="'+this.$data.cover+'" id="'+this.$data.uploadCoverId+'" width="280" style="width: 280px;">';s(".j_upload_cover_right").empty().html(c),s("#"+this.$data.uploadCoverId).show(),s(".jcrop-holder").remove(),s("#"+this.$data.previewCoverId).data("Jcrop",!1)}s("#"+this.$data.uploadCoverId).Jcrop({createHandles:["nw","ne","se","sw"],onSelect:o.bind(t.onClipChange,t),onChange:o.bind(t.onClipChange,t),allowSelect:!1,boxWidth:240,aspectRatio:16/9,setSelect:[n,i,a,r]},function(){var e=this.getBounds();t.boundx=e[0],t.boundy=e[1],t.jcropApi=this;var n=t.jcropApi.tellSelect();this.selectX=n.x,this.selectY=n.y,this.selectW=n.w,this.selectH=n.h,t.onClipChange(n)})},firstReport:function(){this.$data.startClipDrop||(u.report({module:"video-upload",preview:"5"}),this.$set({startClipDrop:!0}))},onClipChange:function(t){if(t=t||{},this.firstReport(),+t.w>0){var e,n,i=140/t.w,a=82/t.h;void 0!==this.boundx&&void 0!==this.boundy?(e=i*this.boundx,n=a*this.boundy):(e=140,n=82),s("#"+this.$data.previewCoverId).css({width:Math.round(e)+"px",height:Math.round(n)+"px",marginLeft:"-"+Math.round(i*t.x)+"px",marginTop:"-"+Math.round(a*t.y)+"px"});var o=0,r=0,c=0,l=0;if(this.jcropApi){var d=this.jcropApi.tellSelect();c=d.w/this.boundx,l=d.h/this.boundy,o=d.x/this.boundx,r=d.y/this.boundy,this._clipChangeCallback(o,r,c,l)}else this.selectX&&(c=this.selectW,l=this.selectH,o=this.selectX,r=this.selectY,this._clipChangeCallback(o,r,c,l))}}}})},function(t,e){!function(t){t.Jcrop=function(e,n){function i(t){return Math.round(t)+"px"}function a(t){return U.baseClass+"-"+t}function o(){return t.fx.step.hasOwnProperty("backgroundColor")}function s(e){var n=t(e).offset();return[n.left,n.top]}function r(t){return[t.pageX-I[0],t.pageY-I[1]]}function c(e){"object"!=typeof e&&(e={}),U=t.extend(U,e),t.each(["onChange","onSelect","onRelease","onDblClick"],function(t,e){"function"!=typeof U[e]&&(U[e]=function(){})})}function l(t,e,n){if(I=s(z),ft.setCursor("move"===t?t:t+"-resize"),"move"===t)return ft.activateHandlers(u(e),g,n);var i=ut.getFixed(),a=p(t),o=ut.getCorner(p(a));ut.setPressed(ut.getCorner(a)),ut.setCurrent(o),ft.activateHandlers(d(t,i),g,n)}function d(t,e){return function(n){if(U.aspectRatio)switch(t){case"e":case"w":n[1]=e.y+1;break;case"n":n[0]=e.x+1;break;case"s":n[0]=e.x+1}else switch(t){case"e":case"w":n[1]=e.y2;break;case"n":n[0]=e.x2;break;case"s":n[0]=e.x2}ut.setCurrent(n),ht.update()}}function u(t){var e=t;return vt.watchKeys(),function(t){ut.moveOffset([t[0]-e[0],t[1]-e[1]]),e=t,ht.update()}}function p(t){switch(t){case"n":return"sw";case"s":case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function h(t){return function(e){return!U.disabled&&(!("move"===t&&!U.allowMove)&&(I=s(z),it=!0,l(t,r(e)),e.stopPropagation(),e.preventDefault(),!1))}}function f(t,e,n){var i=t.width(),a=t.height();i>e&&e>0&&(i=e,a=e/t.width()*t.height()),a>n&&n>0&&(a=n,i=n/t.height()*t.width()),et=t.width()/i,nt=t.height()/a,t.width(i).height(a)}function v(t){return{x:t.x*et,y:t.y*nt,x2:t.x2*et,y2:t.y2*nt,w:t.w*et,h:t.h*nt}}function g(){var t=ut.getFixed();t.w>U.minSelect[0]&&t.h>U.minSelect[1]?(ht.enableHandles(),ht.done()):ht.release(),ft.setCursor(U.allowSelect?"crosshair":"default")}function m(t){if(!U.disabled&&U.allowSelect){it=!0,I=s(z),ht.disableHandles(),ft.setCursor("crosshair");var e=r(t);return ut.setPressed(e),ht.update(),ft.activateHandlers(_,g,"touch"===t.type.substring(0,5)),vt.watchKeys(),t.stopPropagation(),t.preventDefault(),!1}}function _(t){ut.setCurrent(t),ht.update()}function y(){var e=t("<div></div>").addClass(a("tracker"));return P&&e.css({opacity:0,backgroundColor:"white"}),e}function $(t){J.removeClass().addClass(a("holder")).addClass(t)}function b(t,e){function n(){window.setTimeout(_,u)}var i=t[0]/et,a=t[1]/nt,o=t[2]/et,s=t[3]/nt;if(!at){var r=ut.flipCoords(i,a,o,s),c=ut.getFixed(),l=[c.x,c.y,c.x2,c.y2],d=l,u=U.animationDelay,p=r[0]-l[0],h=r[1]-l[1],f=r[2]-l[2],v=r[3]-l[3],g=0,m=U.swingSpeed;i=d[0],a=d[1],o=d[2],s=d[3],ht.animMode(!0);var _=function(){return function(){g+=(100-g)/m,d[0]=Math.round(i+g/100*p),d[1]=Math.round(a+g/100*h),d[2]=Math.round(o+g/100*f),d[3]=Math.round(s+g/100*v),g>=99.8&&(g=100),100>g?(w(d),n()):(ht.done(),ht.animMode(!1),"function"==typeof e&&e.call(gt))}}();n()}}function x(t){w([t[0]/et,t[1]/nt,t[2]/et,t[3]/nt]),U.onSelect.call(gt,v(ut.getFixed())),ht.enableHandles()}function w(t){ut.setPressed([t[0],t[1]]),ut.setCurrent([t[2],t[3]]),ht.update()}function C(){return v(ut.getFixed())}function S(){return ut.getFixed()}function k(t){c(t),O()}function T(){U.disabled=!0,ht.disableHandles(),ht.setCursor("default"),ft.setCursor("default")}function j(){U.disabled=!1,O()}function E(){ht.done(),ft.activateHandlers(null,null)}function F(){J.remove(),D.show(),D.css("visibility","visible"),t(e).removeData("Jcrop")}function q(t,e){ht.release(),T();var n=new Image;n.onload=function(){var i=n.width,a=n.height,o=U.boxWidth,s=U.boxHeight;z.width(i).height(a),z.attr("src",t),W.attr("src",t),f(z,o,s),V=z.width(),H=z.height(),W.width(V).height(H),rt.width(V+2*st).height(H+2*st),J.width(V).height(H),pt.resize(V,H),j(),"function"==typeof e&&e.call(gt)},n.src=t}function M(t,e,n){var i=e||U.bgColor;U.bgFade&&o()&&U.fadeTime&&!n?t.animate({backgroundColor:i},{queue:!1,duration:U.fadeTime}):t.css("backgroundColor",i)}function O(t){U.allowResize?t?ht.enableOnly():ht.enableHandles():ht.disableHandles(),ft.setCursor(U.allowSelect?"crosshair":"default"),ht.setCursor(U.allowMove?"move":"default"),U.hasOwnProperty("trueSize")&&(et=U.trueSize[0]/V,nt=U.trueSize[1]/H),U.hasOwnProperty("setSelect")&&(x(U.setSelect),ht.done(),delete U.setSelect),pt.refresh(),U.bgColor!=ct&&(M(U.shade?pt.getShades():J,U.shade?U.shadeColor||U.bgColor:U.bgColor),ct=U.bgColor),lt!=U.bgOpacity&&(lt=U.bgOpacity,U.shade?pt.refresh():ht.setBgOpacity(lt)),G=U.maxSize[0]||0,Z=U.maxSize[1]||0,Y=U.minSize[0]||0,tt=U.minSize[1]||0,U.hasOwnProperty("outerImage")&&(z.attr("src",U.outerImage),delete U.outerImage),ht.refresh()}var I,U=t.extend({},t.Jcrop.defaults),A=navigator.userAgent.toLowerCase(),P=/msie/.test(A),L=/msie [1-6]\./.test(A);"object"!=typeof e&&(e=t(e)[0]),"object"!=typeof n&&(n={}),c(n);var R={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},D=t(e),B=!0;if("IMG"==e.tagName){if(0!=D[0].width&&0!=D[0].height)D.width(D[0].width),D.height(D[0].height);else{var N=new Image;N.src=D[0].src,D.width(N.width),D.height(N.height)}var z=D.clone().removeAttr("id").css(R).show();z.width(D.width()),z.height(D.height()),D.after(z).hide()}else z=D.css(R).show(),B=!1,null===U.shade&&(U.shade=!0);f(z,U.boxWidth,U.boxHeight);var V=z.width(),H=z.height(),J=t("<div />").width(V).height(H).addClass(a("holder")).css({position:"relative",backgroundColor:U.bgColor}).insertAfter(D).append(z);U.addClass&&J.addClass(U.addClass);var W=t("<div />"),Q=t("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),K=t("<div />").width("100%").height("100%").css("zIndex",320),X=t("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var t=ut.getFixed();U.onDblClick.call(gt,t)}).insertBefore(z).append(Q,K);B&&(W=t("<img />").attr("src",z.attr("src")).css(R).width(V).height(H),Q.append(W)),L&&X.css({overflowY:"hidden"});var G,Z,Y,tt,et,nt,it,at,ot,st=U.boundary,rt=y().width(V+2*st).height(H+2*st).css({position:"absolute",top:i(-st),left:i(-st),zIndex:290}).mousedown(m),ct=U.bgColor,lt=U.bgOpacity;I=s(z);var dt=function(){function t(){var t,e={},n=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(t=0;t<n.length;t++){var a=n[t];a="on"+a;var o=a in i;o||(i.setAttribute(a,"return;"),o="function"==typeof i[a]),e[n[t]]=o}return e.touchstart&&e.touchend&&e.touchmove}catch(t){return!1}}return{createDragger:function(t){return function(e){return!U.disabled&&(!("move"===t&&!U.allowMove)&&(I=s(z),it=!0,l(t,r(dt.cfilter(e)),!0),e.stopPropagation(),e.preventDefault(),!1))}},newSelection:function(t){return m(dt.cfilter(t))},cfilter:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t},isSupported:t,support:function(){return!0===U.touchSupport||!1===U.touchSupport?U.touchSupport:t()}()}}(),ut=function(){function t(t){t=s(t),f=p=t[0],v=h=t[1]}function e(t){t=s(t),d=t[0]-f,u=t[1]-v,f=t[0],v=t[1]}function n(){return[d,u]}function i(t){var e=t[0],n=t[1];0>p+e&&(e-=e+p),0>h+n&&(n-=n+h),v+n>H&&(n+=H-(v+n)),f+e>V&&(e+=V-(f+e)),p+=e,f+=e,h+=n,v+=n}function a(t){var e=o();switch(t){case"ne":return[e.x2,e.y];case"nw":return[e.x,e.y];case"se":return[e.x2,e.y2];case"sw":return[e.x,e.y2]}}function o(){if(!U.aspectRatio)return c();var t,e,n,i,a=U.aspectRatio,o=U.minSize[0]/et,s=U.maxSize[0]/et,d=U.maxSize[1]/nt,u=f-p,g=v-h,m=Math.abs(u),_=Math.abs(g),y=m/_;return 0===s&&(s=10*V),0===d&&(d=10*H),a>y?(e=v,n=_*a,t=0>u?p-n:n+p,0>t?(t=0,i=Math.abs((t-p)/a),e=0>g?h-i:i+h):t>V&&(t=V,i=Math.abs((t-p)/a),e=0>g?h-i:i+h)):(t=f,i=m/a,e=0>g?h-i:h+i,0>e?(e=0,n=Math.abs((e-h)*a),t=0>u?p-n:n+p):e>H&&(e=H,n=Math.abs(e-h)*a,t=0>u?p-n:n+p)),t>p?(o>t-p?t=p+o:t-p>s&&(t=p+s),e=e>h?h+(t-p)/a:h-(t-p)/a):p>t&&(o>p-t?t=p-o:p-t>s&&(t=p-s),e=e>h?h+(p-t)/a:h-(p-t)/a),0>t?(p-=t,t=0):t>V&&(p-=t-V,t=V),0>e?(h-=e,e=0):e>H&&(h-=e-H,e=H),l(r(p,h,t,e))}function s(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t[0]>V&&(t[0]=V),t[1]>H&&(t[1]=H),[Math.round(t[0]),Math.round(t[1])]}function r(t,e,n,i){var a=t,o=n,s=e,r=i;return t>n&&(a=n,o=t),e>i&&(s=i,r=e),[a,s,o,r]}function c(){var t,e=f-p,n=v-h;return G&&Math.abs(e)>G&&(f=e>0?p+G:p-G),Z&&Math.abs(n)>Z&&(v=n>0?h+Z:h-Z),tt/nt&&Math.abs(n)<tt/nt&&(v=n>0?h+tt/nt:h-tt/nt),Y/et&&Math.abs(e)<Y/et&&(f=e>0?p+Y/et:p-Y/et),0>p&&(f-=p,p-=p),0>h&&(v-=h,h-=h),0>f&&(p-=f,f-=f),0>v&&(h-=v,v-=v),f>V&&(t=f-V,p-=t,f-=t),v>H&&(t=v-H,h-=t,v-=t),p>V&&(t=p-H,v-=t,h-=t),h>H&&(t=h-H,v-=t,h-=t),l(r(p,h,f,v))}function l(t){return{x:t[0],y:t[1],x2:t[2],y2:t[3],w:t[2]-t[0],h:t[3]-t[1]}}var d,u,p=0,h=0,f=0,v=0;return{flipCoords:r,setPressed:t,setCurrent:e,getOffset:n,moveOffset:i,getCorner:a,getFixed:o}}(),pt=function(){function e(t,e){f.left.css({height:i(e)}),f.right.css({height:i(e)})}function n(){return a(ut.getFixed())}function a(t){f.top.css({left:i(t.x),width:i(t.w),height:i(t.y)}),f.bottom.css({top:i(t.y2),left:i(t.x),width:i(t.w),height:i(H-t.y2)}),f.right.css({left:i(t.x2),width:i(V-t.x2)}),f.left.css({width:i(t.x)})}function o(){return t("<div />").css({position:"absolute",backgroundColor:U.shadeColor||U.bgColor}).appendTo(h)}function s(){p||(p=!0,h.insertBefore(z),n(),ht.setBgOpacity(1,0,1),W.hide(),r(U.shadeColor||U.bgColor,1),ht.isAwake()?l(U.bgOpacity,1):l(1,1))}function r(t,e){M(u(),t,e)}function c(){p&&(h.remove(),W.show(),p=!1,ht.isAwake()?ht.setBgOpacity(U.bgOpacity,1,1):(ht.setBgOpacity(1,1,1),ht.disableHandles()),M(J,0,1))}function l(t,e){p&&(U.bgFade&&!e?h.animate({opacity:1-t},{queue:!1,duration:U.fadeTime}):h.css({opacity:1-t}))}function d(){U.shade?s():c(),ht.isAwake()&&l(U.bgOpacity)}function u(){return h.children()}var p=!1,h=t("<div />").css({position:"absolute",zIndex:240,opacity:0}),f={top:o(),left:o().height(H),right:o().height(H),bottom:o()};return{update:n,updateRaw:a,getShades:u,setBgColor:r,enable:s,disable:c,resize:e,refresh:d,opacity:l}}(),ht=function(){function e(e){var n=t("<div />").css({position:"absolute",opacity:U.borderOpacity}).addClass(a(e));return Q.append(n),n}function n(e,n){var i=t("<div />").mousedown(h(e)).css({cursor:e+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+e);return dt.support&&i.bind("touchstart.jcrop",dt.createDragger(e)),K.append(i),i}function o(t){var e=U.handleSize,i=n(t,C++).css({opacity:U.handleOpacity}).addClass(a("handle"));return e&&i.width(e).height(e),i}function s(t){return n(t,C++).addClass("jcrop-dragbar")}function r(t,e){U.shade||W.css({top:i(-e),left:i(-t)}),X.css({top:i(e),left:i(t)})}function c(t,e){X.width(Math.round(t)).height(Math.round(e))}function l(){var t=ut.getFixed();ut.setPressed([t.x,t.y]),ut.setCurrent([t.x2,t.y2]),d()}function d(t){return w?u(t):void 0}function u(t){var e=ut.getFixed();c(e.w,e.h),r(e.x,e.y),U.shade&&pt.updateRaw(e),w||f(),t?U.onSelect.call(gt,v(e)):U.onChange.call(gt,v(e))}function p(t,e,n){(w||e)&&(U.bgFade&&!n?z.animate({opacity:t},{queue:!1,duration:U.fadeTime}):z.css("opacity",t))}function f(){X.show(),U.shade?pt.opacity(lt):p(lt,!0),w=!0}function g(){$(),X.hide(),U.shade?pt.opacity(1):p(1),w=!1,U.onRelease.call(gt)}function m(){j&&K.show()}function _(){return j=!0,U.allowResize?(K.show(),!0):void 0}function $(){j=!1,K.hide()}function b(t){t?(at=!0,$()):(at=!1,_())}function x(){b(!1),l()}var w,C=370,S={},k={},T={},j=!1;U.dragEdges&&t.isArray(U.createDragbars)&&function(t){var e;for(e=0;e<t.length;e++)T[t[e]]=s(t[e])}(U.createDragbars),t.isArray(U.createHandles)&&function(t){var e;for(e=0;e<t.length;e++)k[t[e]]=o(t[e])}(U.createHandles),U.drawBorders&&t.isArray(U.createBorders)&&function(t){var n,i;for(i=0;i<t.length;i++){switch(t[i]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}S[t[i]]=e(n)}}(U.createBorders),t(document).bind("touchstart.jcrop-ios",function(e){t(e.currentTarget).hasClass("jcrop-tracker")&&e.stopPropagation()});var E=y().mousedown(h("move")).css({cursor:"move",position:"absolute",zIndex:360});return dt.support&&E.bind("touchstart.jcrop",dt.createDragger("move")),Q.append(E),$(),{updateVisible:d,update:u,release:g,refresh:l,isAwake:function(){return w},setCursor:function(t){E.css("cursor",t)},enableHandles:_,enableOnly:function(){j=!0},showHandles:m,disableHandles:$,animMode:b,setBgOpacity:p,done:x}}(),ft=function(){function e(e){rt.css({zIndex:450}),e?t(document).bind("touchmove.jcrop",s).bind("touchend.jcrop",c):p&&t(document).bind("mousemove.jcrop",i).bind("mouseup.jcrop",a)}function n(){rt.css({zIndex:290}),t(document).unbind(".jcrop")}function i(t){return d(r(t)),!1}function a(t){return t.preventDefault(),t.stopPropagation(),it&&(it=!1,u(r(t)),ht.isAwake()&&U.onSelect.call(gt,v(ut.getFixed())),n(),d=function(){},u=function(){}),!1}function o(t,n,i){return it=!0,d=t,u=n,e(i),!1}function s(t){return d(r(dt.cfilter(t))),!1}function c(t){return a(dt.cfilter(t))}function l(t){rt.css("cursor",t)}var d=function(){},u=function(){},p=U.trackDocument;return p||rt.mousemove(i).mouseup(a).mouseout(a),z.before(rt),{activateHandlers:o,setCursor:l}}(),vt=function(){function e(){U.keySupport&&(o.show(),o.focus())}function n(){o.hide()}function i(t,e,n){U.allowMove&&(ut.moveOffset([e,n]),ht.updateVisible(!0)),t.preventDefault(),t.stopPropagation()}function a(t){if(t.ctrlKey||t.metaKey)return!0;ot=!!t.shiftKey;var e=ot?10:1;switch(t.keyCode){case 37:i(t,-e,0);break;case 39:i(t,e,0);break;case 38:i(t,0,-e);break;case 40:i(t,0,e);break;case 27:U.allowSelect&&ht.release();break;case 9:return!0}return!1}var o=t('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),s=t("<div />").css({position:"absolute",overflow:"hidden"}).append(o);return U.keySupport&&(o.keydown(a).blur(n),L||!U.fixedSupport?(o.css({position:"absolute",left:"-20px"}),s.append(o).insertBefore(z)):o.insertBefore(z)),{watchKeys:e}}();dt.support&&rt.bind("touchstart.jcrop",dt.newSelection),K.hide(),O(!0);var gt={setImage:q,animateTo:b,setSelect:x,setOptions:k,tellSelect:C,tellScaled:S,setClass:$,disable:T,enable:j,cancel:E,release:ht.release,destroy:F,focus:vt.watchKeys,getBounds:function(){return[V*et,H*nt]},getWidgetSize:function(){return[V,H]},getScaleFactor:function(){return[et,nt]},getOptions:function(){return U},ui:{holder:J,selection:X}};return P&&J.bind("selectstart",function(){return!1}),D.data("Jcrop",gt),gt},t.fn.Jcrop=function(e,n){var i;return this.each(function(){if(t(this).data("Jcrop")){if("api"===e)return t(this).data("Jcrop");t(this).data("Jcrop").setOptions(e)}else"IMG"==this.tagName?t.Jcrop.Loader(this,function(){t(this).css({display:"block",visibility:"hidden"}),i=t.Jcrop(this,e),t.isFunction(n)&&n.call(i)}):(t(this).css({display:"block",visibility:"hidden"}),i=t.Jcrop(this,e),t.isFunction(n)&&n.call(i))}),this},t.Jcrop.Loader=function(e,n,i){function a(){s.complete?(o.unbind(".jcloader"),t.isFunction(n)&&n.call(s)):window.setTimeout(a,50)}var o=t(e),s=o[0];o.bind("load.jcloader",a).bind("error.jcloader",function(){o.unbind(".jcloader"),t.isFunction(i)&&i.call(s)}),s.complete&&t.isFunction(n)&&(o.unbind(".jcloader"),n.call(s))},t.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery)},function(t,e,n){"use strict";function i(t){var e={},n=t.data||{};for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e}function a(){var t=l.pop();if(t){var e=navigator.userAgent,n=!1;(e.indexOf("MSIE")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0)&&(n=!0),n?r(t):"undefined"!=typeof FormData&&void 0!=window.File&&void 0!=(new window.XMLHttpRequest).upload?s(t):r(t)}}function o(t,e){if(t.size>v){var n=f[-3016];return e&&e({code:"-3016",msg:n}),!1}if(!g.test(t.type)){var n=f[-3017];return e&&e({code:"-3017",msg:n}),!1}return!0}function s(t){if(t){var e=new FormData,n=new XMLHttpRequest,i=t.f||{},a=t.h,s=i.img.files[0];if(o(s,a.error)){for(var r in i)i.hasOwnProperty(r)&&("img"==r?e.append(r,s):e.append(r,i[r]));n.open("POST",u,!0),n.withCredentials=!0,n.upload&&n.upload.addEventListener("progress",function(t){a.progress&&a.progress({loaded:t.loaded,total:t.total})}),n.addEventListener("error",function(){a.error&&a.error({code:n.status,msg:n.responseText})}),n.addEventListener("load",function(){var t=n.responseText.replace("QZOutputJson=","").replace(";","");try{t=p.parseJSON(t)}catch(e){t={}}if("o"!=t.s){var e=f[t.em];e&&(t.msg=e)}a.success&&a.success(t)}),n.send(e)}}}function r(t){if(t){var e=t.f||{},n=t.h;n.progress&&n.progress({uploadType:"formpost"}),e.img&&e.img.setAttribute&&e.img.setAttribute("hidden",!0),h(d,e,function(t,e){if(e&&(e.uploadType="formpost"),t){var i="";i="timeout"==t.message?"图片上传失败啦，试试重新上传~ (错误原因：超时)":t.message||"图片上传失败啦，试试重新上传~ ",n.error&&n.error({msg:i,code:t.code||-1,uploadType:"formpost"})}else if(e)if("o"===e.s)n.success&&n.success(e);else{var i="图片上传失败啦，试试重新上传~ (错误码："+e.em+")";n.error&&n.error({msg:f[e.em]||i,code:e.em||-1,uploadType:"formpost"})}else n.error&&n.error({code:-1,msg:"图片上传失败啦，试试重新上传~",uploadType:"formpost"})},{callbackid:"callback",enctype:"multipart/form-data"})}}function c(t){var e=i(t),n={success:t.success||noop,error:t.error||noop,progress:t.progress||noop};t.data.img&&(l.push({f:e,h:n}),a())}var l=[],d=n(17).uploadCoverImgTpl,u="",p=n(2),h=n(21),f={"-3016":"所选图片文件过大，请选择2M以内的图片","-3017":"所选图片格式不支持，请选择jpg、jpeg和png格式图片","-1006":"所选图片尺寸过小，请挑选清晰的图片上传哦~"},v=2097152,g=/jpg|jpeg|png/i;t.exports={setCgi:function(t){u=t},upload:c}},function(t,e,n){"use strict";function i(t){var e=[];return s.objEach(t,function(t,n){var i=t+"="+encodeURIComponent(n);e.push(i)}),e.length>0?e.join("&"):""}function a(t){i(t),new Image(1,1)}function o(){r.vid="-",r.msg="-",r.method="",r.act="",r.seqid="",r.type="",r.addition="",r._dc=Math.random(),r.preview=""}var s=n(7),r={bid:"",vid:"-",uid:"-",module:"-",msg:"-",ua:"",method:"",act:"",seqid:"",type:"",addition:"",_dc:Math.random(),preview:""},c={};t.exports={config:function(t){r=s.extend(r,t)},report:function(t){o(),r=s.extend(r,t),a(r)},reportOnce:function(t,e){c[t]||(c[t]=!0,this.report(e))}}},function(t,e){t.exports='\x3c!-- 上传失败 --\x3e\n<div class="cover_upload" r-style="{display: status == -1 ? \'block\':\'none\';}">\n    <i class="upload_img"></i>\n    <div class="failed_tips"><span r-text>{errMsg}</span></div>\n    <a href="javascript:;" class="btn_upload" r-attr="{id: uploadErrorBtnId}" style="overflow: hidden; position: relative;">\n        上传图片\n        <input type="file" name="img" class="upload_img_file_input" r-attr="{id: fileOneId}">\n    </a>\n</div>\n\n\x3c!-- 等待上传状态 --\x3e\n<div class="cover_upload" r-style="{display: status == 1 ? \'block\':\'none\';}">\n    <i class="upload_img"></i>\n    <a href="javascript:;" class="btn_upload" r-attr="{id: uploadingBtnId}" style="overflow: hidden; position: relative;">\n        上传图片\n        <input type="file" name="img" class="upload_img_file_input" r-attr="{id: fileTwoId}">\n    </a>\n    <div class="upload_tips"><span r-text>{uploadTips}</span></div>\n</div>\n\n\x3c!-- 上传中 --\x3e\n<div class="cover_upload" r-style="{display: status == 2 ? \'block\':\'none\';}">\n    <i class="upload_img"></i>\n    <div class="progress_tip cf">\n        <span class="tip_left">图片上传中...</span>\n        <span class="tip_right"><span r-text>{progress}</span></span>\n    </div>\n    <div class="progress_wrap">\n        <span class="progress_bar"><em class="after"></em></span>\n        <span class="progress_face" r-style="{width: progress}"><em class="left"></em><em class="right"></em></span>\n    </div>\n</div>\n\n\x3c!-- 上传完 裁剪--\x3e\n<div class="cover_upload cf" r-style="{display: status == 3 ? \'block\':\'none\';}">\n    <div class="upload_left">\n        <div class="upload_preview" style="overflow: hidden;width: 140px; height: 82px;">\n            <img r-attr="{src: previewCover; id: previewCoverId}" width="280" height="280" style="width: 280px; height: 280px;">\n        </div>\n        <span class="upload_preview_txt">预览</span>\n        <div class="btn_upload_txt" style="position: relative;">\n            <span class="control" r-attr="{id: uploadSuccessBtnId}" style="overflow: hidden; cursor: pointer;">\n                <input type="file" class="upload_img_file_input" name="img" r-attr="{id: fileThreeId}">\n            </span>\n            <span class="btn_inner">重新上传</span>\n        </div>\n        <div class="upload_tips" style="padding: 0; margin: 0;"><span r-text>{uploadTips}</span></div>\n    </div>\n    <div class="upload_right j_upload_cover_right">\n        <img r-attr="{src: cover; id: uploadCoverId}" width="280" style="width: 280px;">\n    </div>\n</div>\n'},function(t,e){t.exports='<div>\n    \x3c!--<div class="mod_pop_mask" r-style="{--\x3e\n        \x3c!--display: showSetting ? \'block\' : \'none\';}"></div>--\x3e\n    <div id="ipop" class="mod_pop"\n         style="border: 1px solid #e4e7eb; top: 50%; margin: -166px 0 0 -230px; width: 460px; left: 50%;"\n         r-class="{\n            mod_pop_cover: om && type == \'sys\';\n            mod_pop_upload: om && type == \'up\' && status == \'\';\n            mod_pop_uploading: om && type == \'up\' && status == \'uploading\';\n            mod_pop_error: om && type == \'up\' && status == \'uploaderror\';\n            mod_pop_preview: om && type == \'up\' && status == \'uploadpreview\';\n         }"\n         r-style="{\n            display: showSetting ? \'block\' : \'none\';\n         }">\n        \x3c!--<iframe src="about:blank" frameborder="0" class="iframe_mask_pop"></iframe>--\x3e\n        <div class="mod_pop_hd">\n            <h3 class="cont_title border_none" r-show="{om}">设置封面图</h3>\n            <a href="javascript:;" class="mod_pop_close" r-on="{click: onCancel}">关闭</a>\n        </div>\n        <div class="mod_pop_bd">\n            <div class="mod_setcover">\n                <div class="setcover_hd">\n                    <ul class="tab_covers"  style="background: #fff; padding: 0;">\n                        <li class="tab" style="width: auto;" r-on="{click: toggleTab}" r-attr="{data-type: \'up\'}" r-show="{hasUploadPic}" r-class="{current: type === \'up\' }">上传封面</li>\n                        <li class="tab" style="width: auto;" r-on="{click: toggleTab}" r-attr="{data-type: \'sys\'}" r-class="{current: type === \'sys\' }">系统封面</li>\n                    </ul>\n                </div>\n                <div class="setcover_bd">\n                    \x3c!-- 上传封面图组件--\x3e\n                    <div r-style="{display: type == \'up\' && hasUploadPic ? \'block\' : \'none\';}">\n                        <div r-component="c-upload-cover" r-ref="cUploadCover"\n                             r-methods="{\n                            onChange: _setUploadCover;\n                            changeStatus: _setUploadStatus;\n                         }"></div>\n                    </div>\n                    \x3c!-- 系统封面图 --\x3e\n                    <ul class="cover_system_list cf j_system_cover"\n                        r-style="{display: (type == \'sys\' && systemCover.length > 0 && systemCover.length > sysCoverFailedCount) ? \'block\' : \'none\';}"\n                        r-on="{click: _setSystemCover}">\n                    </ul>\n                    \x3c!-- 暂无系统封面图 当系统封面图失败或者全部都拉取失败时，当做没有没处理--\x3e\n                    <div class="cover_system_tip"\n                         r-style="{display: (type == \'sys\' && (systemCover.length == 0 || systemCover.length == sysCoverFailedCount)) ? \'block\' : \'none\';}">\n                        <i class="loading_type_s"></i>\n                        <div class="tip_txt"><span r-text>{noSystemCoverTips}</span></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="mod_pop_ft" style=\'position: static\' r-style="{display: (type == \'up\' && status == \'\') ? \'block\' : \'none\'; }">\n            <div class="tips">提示：上传优质图片，将会使你的视频更吸引人并获得更多推荐，请务必上传和视频内容相关的、合法的图片，否则视频或账号将会被严肃处理。</div>\n        </div>\n\n        \x3c!-- 上传图片保存 --\x3e\n        <div class="mod_pop_ft" style=\'position: static\' r-style="{display: (type == \'up\' && status == \'uploadpreview\') ? \'block\' : \'none\'; }">\n            <a class="btn_strong" href="javascript:;" r-style="{display: saveStatus == \'pending\' ? \'inline-block\' : \'none\'; }">\n                <i class="icon-loader"></i>\n                <span>保存中</span>\n            </a>\n            <a class="btn_strong" href="javascript:;" r-on="{click: saveClip}" r-style="{display: saveStatus != \'pending\' ? \'inline-block\' : \'none\'; }">\n                <span>保存</span>\n            </a>\n        </div>\n\n        \x3c!-- 系统封面图保存 --\x3e\n        <div class="mod_pop_ft" style=\'position: static\' r-style="{display: type == \'sys\' ? \'block\' : \'none\'; }">\n            <a class="btn_normal btn_preview_cancel" href="javascript:;" r-on="{click: onCancel}"><span>取消</span></a>\n            <a class="btn_strong" href="javascript:;" r-on="{click: saveSys}"><span>确定</span></a>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div class="kb_preview" style="z-index: 3;">\n\n    <div class="top_txt"><span class="name">天天快报</span>效果预览</div>\n    <div class="preview_area">\n        <div class="preview_detail">\n            \x3c!-- 标题 --\x3e\n            <strong class="video_title" style="overflow: hidden; text-overflow: ellipsis;" ><span r-text>{title || \'标题\'}</span></strong>\n\n            \x3c!-- 正在加载封面图 --\x3e\n            <div class="video_cover" r-style="{display: cover == \'\' ? \'block\' : \'none\'; }">\n                <img class="cover_pic" src="//i.gtimg.cn/qqlive/images/20150608/pic_h.png">\n                <div class="cover_tip loading_cover">\n                    <i class="load_type_s"></i>\n                    <div class="load_txt">正在生成封面图...</div>\n                    <a href="javascript:;" class="btn_setcover" r-on="{click: _onClickSetting}">设置封面图</a>\n                </div>\n            </div>\n\n            \x3c!-- 封面图已经生成 --\x3e\n            <div class="video_cover" r-style="{display: cover != \'\' ? \'block\' : \'none\'; }">\n                <img class="cover_pic" r-attr="{src: cover}" style="width: 280px; height: 158px;">\n                <div class="cover_tip">\n                    <a href="javascript:;" class="btn_setcover" r-on="{click: _onClickSetting}">设置封面图</a>\n                </div>\n            </div>\n\n            \x3c!-- 封面图设置组件 --\x3e\n            <div r-component="c-video-cover-setting" r-replace="true" r-ref="coverSetting" r-methods="{onChange: onCoverChange;}" ></div>\n\n            \x3c!-- 标签 --\x3e\n            <div class="video_label j_video_tags" style="min-height: 22px; height: 22px;">\n            </div>\n        </div>\n        <div class="preview_bg_bottom"></div>\n    </div>\n</div>\n'},function(t,e,n){"use strict";function i(t,e){e=e||1;var n=1024,i=1024*n,a=1024*i;return t?t<n?t.toLocaleString()+" B":t<i?(t/n).toFixed(e).toLocaleString()+" KB":t<a?(t/i).toFixed(e).toLocaleString()+" MB":(t/a).toFixed(e).toLocaleString()+" GB":"0 B"}function a(t){t=t||0;var e=parseInt(t/3600);t%=3600;var n=parseInt(t/60),i=t%=60;return(e?e+"时":"")+(n?n+"分":"")+i+"秒"}function o(){}n(58);var s=n(9),r=n(60),c=n(7),l=n(12),d=n(61),u=n(53),p=n(10),h="",f=n(17);if(top&&top.getVideoParam){h=(top.getVideoParam()||{}).uid}else h=c.cookie.get("uin");u.config({bid:p.get("bid"),uid:h,ua:window.navigator.userAgent}),t.exports=s.component("c-upload",{template:n(63),data:function(){return{OMLink:!1,status:"",name:"",suffix:"",size:"",scanPercent:"0",uploadPercent:"0",uploadSpeed:"0",uploadSpeedWithUnit:"0 KB",uploadedSize:"",remainTime:"",vid:""}},ready:function(){var t=this.$data.fio=this.getFio();if(t&&(this._task=new r({fio:t,onFileStart:this._onFileStart,onFileScanProgress:this._onFileScanProgress,onFileUploadStart:this._onFileUploadStart,onFileUploadProgress:this._onFileUploadProgress,onFileSuccess:this._onFileSuccess,onFileError:this._onFileError}),this._onFileSelect(t)),this.$data.parentPopup){var e=window===top?document:top.document;try{e.body.appendChild(this.$refs.dialog.$el)}catch(t){}}},methods:{_onFileSelect:function(t){var e=/(\.[a-zA-Z]+)$/.exec(t.name);this.$set({status:"selected",name:t.name,suffix:e?e[1]:"",size:i(t.size)})},_onFileStart:function(t){u.report({bid:p.get("bid"),seqid:t.uid||"-",vid:t.vid||"-",module:"upload-bar",method:"_onFileStart",act:"上传:文件开始",type:0})},_onFileScanProgress:function(t){this.$set({status:"scanning",scanPercent:t.percent}),u.reportOnce("scan_progress_"+t.uid,{bid:p.get("bid"),seqid:t.uid||"-",vid:t.vid||"-",module:"upload-bar",method:"_onFileScanProgress",act:"上传:扫描中",type:0})},_onFileUploadStart:function(t){this.onFileUploadStart&&this.onFileUploadStart(t),this.$set({vid:t.vid||"",status:"uploadstart"}),u.report({bid:p.get("bid"),seqid:t.uid||"-",vid:t.vid||"-",module:"upload-bar",method:"_onFileUploadStart",act:"上传:开始上传",type:0})},_onFileUploadProgress:function(t){var e={status:"uploading",uploadedSize:i(t.processedSize),vid:t.vid},n=Number(this.$data.uploadPercent)
;t.percent&&(!n||t.percent>n)&&(e.uploadPercent=t.percent),t.instantSpeed?(e.uploadSpeed=t.instantSpeed,e.uploadSpeedWithUnit=i(t.instantSpeed),e.remainTimestamp=Math.ceil((t.size-t.processedSize)/Number(t.instantSpeed)),e.remainTime=a(e.remainTimestamp)):this.$data.remainTimestamp||(e.remainTimestamp="正在计算",e.remainTime=0),this.$set(e),u.reportOnce("upload_progress_"+t.uid,{bid:p.get("bid"),seqid:t.uid||"-",vid:t.vid||"-",module:"upload-bar",method:"_onFileUploadProgress",act:"上传:上传中",type:0})},_onFileSuccess:function(t){this.$set({status:"done",uploadPercent:"100"}),u.report({bid:p.get("bid"),seqid:t.uid||"-",vid:t.vid||"-",module:"upload-bar",method:"_onFileSuccess",act:"上传:上传成功",type:0}),this.onFileSuccess&&this.onFileSuccess(t)},_onFileError:function(t){this.$set({status:"error",uploadPercent:"0"}),this.onFileError&&this.onFileError(t)},_onCancel:function(t){"done"!==this.$data.status&&this.cancel()},cancel:function(t){var e=this.$data.status,n=this.$data.fio;t=t||o,"scanning"!=e&&"uploading"!=e?(this.deleteVideo(),t(!0,{uploadStatus:e,hasConfirm:!1}),l.emit("upload:cancel",n)):this.$refs.dialog.confirm({title:d.get("uploadCancelConfirmText"),btnOk:"确定"},c.bind(function(i){t(i,{uploadStatus:e,hasConfirm:!0}),i&&(this.deleteVideo(),this._task.destroy(),l.emit("upload:cancel",n))},this))},deleteVideo:function(){!this.$data.vid||"uploading"!=status&&"uploadstart"!=status||f.del({vid:this.$data.vid})},destroyTask:function(){this._task.destroy()},_onLink:function(){l.emit("upload-bar:link")}}})},function(t,e,n){"use strict";var i=n(9),a=n(7);n(2);t.exports=i.component("c-tips-confirm",{template:n(59),data:function(){return{isShow:!1,header:"温馨提示",title:"",desc:"",btnOk:"确定"}},ready:function(){},methods:{onOk:function(t){var e=this._callback;this.$set({isShow:!1}),"function"==typeof e&&(this._callback=null,e(!0,t))},onCancel:function(t){var e=this._callback;this.$set({isShow:!1}),"function"==typeof e&&(this._callback=null,e(!1,t))},confirm:function(t,e){var n={isShow:!0,header:"温馨提示",title:"",desc:"",btnOk:"确定"};"string"==typeof t?this.$set(a.extend(n,{title:t})):this.$set(a.extend(n,t)),this._callback=e}}})},function(t,e){t.exports='\x3c!--<div class="mod_dialog_mask" r-style="{display: isShow ? \'block\': \'none\';}"></div>--\x3e\n<div class="mod_dialog dialog_alert" r-style="{display: isShow ? \'block\': \'none\';}">\n\t<div class="mod_dialog_head">\n\t\t<h2 class="dialog_title"><span r-text>{header}</span></h2>\n\t\t<a href="javascript:;" class="btn_close" r-on="{click: onCancel}">\n\t\t\t<span>x</span>\n\t\t</a>\n\t\t<i class="mod_dialog_hl"></i>\n\t\t<i class="mod_dialog_hr"></i>\n\t</div>\n\t<div class="mod_dialog_cont mod_dialog_cont_radius" style="min-height: inherit;">\n\t\t<div class="mod_dialog_cont_inner">\n\t\t\t<div class="mod_dialog_alert">\n\t\t\t\t<div class="alert_txt" style="font-size: 16px"><span r-text>{title}</span></div>\n\t\t\t\t<p class="tips_desc"><span r-text>{desc}</span></p>\n\t\t\t</div>\n\t\t\t<div class="mod_dialog_btns">\n\t\t\t\t<a href="javascript:;" class="btn_small btn_small_b"  data-type=\'1\' r-on="{click: onOk}">\n\t\t\t\t\t<span style="margin: 0;" ><span r-text>{btnOk}</span></span>\n\t\t\t\t</a>\n\t\t\t\t<a href="javascript:;" class="btn_small btn_small_b" r-on="{click: onCancel}">\n\t\t\t\t\t<span style="margin: 0;" >取消</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<i class="mod_dialog_cl"></i>\n\t\t\t<i class="mod_dialog_cr"></i>\n\t\t</div>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";function i(t){if(!t.fio)throw Error("illegal fio",t.fio);var e=this.fio=t.fio,n=this._listeners=[];o.forEach(s,function(i){if(t[i]){var o=function(n){if(n.uid==e.uid){var a=t[i];a&&a.apply(this,arguments)}};a.on(i,o),n.push({et:i,fn:o})}})}var a=n(11),o=n(8),s=["onFileStart","onFileScanProgress","onFileUploadStart","onFileUploadProgress","onFileSuccess","onFileError"],r=i.prototype;r.destroy=function(){if(!this._destroyed){a.cancel(this.fio),o.forEach(this._listeners,function(t){a.off(t.et,t.fn)}),this._destroyed=!0,this.fio=null,this._listeners=null}},r.cancel=function(){a.cancel(this.fio)},t.exports=i},function(t,e,n){"use strict";var i=n(62);t.exports=new i({networkStatus:!0,disableSaveBeforeUploaded:!0,closeAfterSaved:!1,isDescRequired:!0,fillFileTitle:!1,showUploadAgreement:!0,hasNotSaveConfirm:!1,formTips:"请填写完整的视频信息并保存，否则不能通过审核",unsaveConfirmText:"确定要取消本次上传吗？你有尚未保存视频信息，取消上传将清除已上传数据",uploadCancelConfirmText:"确定取消正在上传的视频？"})},function(t,e,n){"use strict";function i(t){this._config={},this.set(t)}var a=n(7);i.prototype.set=function(t,e){var n=this._config;return arguments.length&&"null"!=a.type(t)&&"undefined"!=a.type(t)?("object"==a.type(t)?a.extend(n,t):n[t]=e,this):this},i.prototype.get=function(t){var e=this._config;return t?e[t]:e},t.exports=i},function(t,e){t.exports='<div>\n    <div class="upload_box_hd" r-show="{status}" r-attr="{data-status: status}">\n        <h4 class="video_title"><span r-text>{name.replace(/\\.[a-zA-Z]+$/g, \'\')}</span><span class="suffix"><span r-text>{suffix}</span></span><a href="javascript:;" class="btn_cancel" r-show="{status == \'scanning\' || status == \'uploading\'}" r-on="{click: _onCancel}">取消上传</a></h4>\n        \x3c!-- 扫描中 --\x3e\n        <div class="progress_wrap" r-show="{status == \'scanning\' || status == \'uploadstart\'}">\n            <span class="progress_bar"><em class="after"></em></span>\n            <span class="progress_face" r-style="{width: scanPercent + \'%\'}"><em class="left"></em><em class="right"></em></span>\n            <a href="javascript:;" class="upload_cb"><i class="icon_time"></i></a>\n        </div>\n        <div class="upload_counts" r-show="{status == \'scanning\'}">\n            <span class="item">扫描中...</span>\n            <span class="item">文件大小：<em class="inner"><span r-text>{size}</span></em></span>\n            <span class="item_right"><span r-text>{scanPercent + \'%\'}</span></span>\n        </div>\n\n        \x3c!-- 上传中 --\x3e\n        <div class="progress_wrap" r-show="{status == \'uploading\' || status == \'done\' || status == \'error\'}">\n            <span class="progress_bar"><em class="after"></em></span>\n            <span class="progress_face" r-style="{width: uploadPercent + \'%\'}"><em class="left"></em><em class="right"></em></span>\n            <a href="javascript:;" class="upload_cb"><i r-class="{\n                icon_time: status == \'scanning\';\n                icon_wrong: status == \'uploading\';\n                icon_right: status == \'done\';\n                icon_warn: status == \'error\';\n            }" r-on="{click: _onCancel}"></i></a>\n        </div>\n        <div class="upload_counts" r-show="{status == \'uploading\' || status == \'error\'}">\n            <span class="item" r-show="{status == \'uploading\'}">上传速度：<em class="inner"><span r-text>{uploadSpeedWithUnit}</span>/s</em></span>\n            <span class="item" r-show="{status == \'uploading\'}">已上传：<em class="inner"><span r-text>{uploadedSize}</span></em></span>\n            <span class="item" r-show="{status == \'uploading\'}">剩余时间：<em class="inner"><span r-text>{remainTime}</span></em></span>\n            <span class="item_right"><span r-text>{uploadPercent + \'%\'}</span></span>\n        </div>\n\n        \x3c!-- 上传完成 --\x3e\n        <div class="upload_counts" r-show="{status == \'done\'}">\n            <span class="item tips_inner">视频上传成功，正在进行转码和审核<span r-show="{OMLink}">，您可以在<a href="javascript:;" r-on="{click: _onLink}">视频管理</a>中查看文件状态</span></span>\n            <span class="item_right">100%</span>\n        </div>\n\n        \x3c!-- 上传开始 --\x3e\n        <div class="upload_counts" r-show="{status == \'uploadstart\'}">\n            <span class="item tips_inner">上传中...</span>\n        </div>\n    </div>\n    <div r-component="c-tips-confirm" r-ref="dialog" class="om_scope"></div>\n</div>\n'},function(t,e,n){"use strict";var i=n(9);n(7),n(2);t.exports=i.component("c-video-vr",{template:n(65),data:function(){return{check:!1,isShow:!1}},ready:function(){this.$set({isShow:1==window.isVplus})},methods:{val:function(){return this.$data.check?1:0},toggle:function(){var t=!this.$data.check;this.$set({check:t}),this.onChange&&this.onChange(t)}}})},function(t,e){t.exports='<div class="mod_upload_filed mod_upload_vr" r-show="{isShow}">\n    <div class="upload_filed_label">\n        <label class="upload_filed_lbl">格式</label>\n    </div>\n    <div class="upload_filed_area">\n        <div class="upload_filed_radio">\n            <div class="filed_radio_item">\n                <input type="checkbox" name="vr" r-on="{click: toggle}" class="upload_filed_rdo" id="upload_filed_rdo_2">\n                <label class="filed_radio_lbl filed_strong" for="upload_filed_rdo_2">全景VR视频<span class="tips">(仅达到VR片源要求可转码)</span></label>\n                <div class="mod_explain">\n                    <i class="ico_question"></i>\n                    <div class="mod_explain_pop">\n                        <i class="triangle_up triangle_up_wrap"><i class="triangle_up"></i></i>\n                        <div class="explain_cont">\n                            <p class="explain_txt">1. 标记全景VR视频，支持VR模式播放</p>\n                            <p class="explain_txt">2. 你所上传视频需是全景VR视频</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e,n){"use strict";var i=n(67),a=(n(7),{}),o=n(20);n(10);t.exports={verify:function(t,e){var n=t||{};i(o.queryJoin(location.protocol+"//c.v.qq.com/verifycheckcode?otype=json",n),function(t,n){t?e(t):!n||"o"!==n.s&&n.s||!n?e({em:n&&n.em},n):e(null,n)})},getcode:function(t,e){var n=t||{};i(o.queryJoin(location.protocol+"//c.v.qq.com/verifygetcode?otype=json",n),function(t,n){t?e&&e(t):!n||"o"!==n.s&&n.s||!n?e&&e({em:n&&n.em},n):e&&e(null,n)})},tags:function(t,e,n){n=n||{};var o=!1!==n.cache,s=a.tags;if(o&&s)return e(null,s);i(location.protocol+"//c.v.qq.com/vusertags?otype=json",function(t,n){if(t&&e({em:-1}),n&&"o"==n.s&&n.tags){var i=n.tags;i.length&&(a.tags=i),e(null,i)}else e({code:n.em,msg:n.msg})})},videos:function(t,e,n){var a=t||{};i(o.queryJoin(location.protocol+"//c.v.qq.com/uservideos?otype=json",a),function(t,n){t?e(t):!n||"o"!==n.s&&n.s||!n.video?e({em:n&&n.em},n):e(null,n)})},checkQQBinding:function(t,e,n){var a=t||{};i(o.queryJoin(location.protocol+"//om.qq.com/qmp/getOmQqInfo?of=jsonp",a),function(t,n){t?e(t):e(null,n)})}}},function(t,e,n){"use strict";var i=n(20),a=n(10),o=n(18),s=n(7);o.before(function(t){var e={};e.bid=a.get("bid"),e.open_uid=a.get("uid"),e.open_token=a.get("token");var n={};return s.objEach(e,function(t,e){e&&(n[t]=e)}),t=i.queryJoin(t,n)}),t.exports=o},function(t,e){t.exports='<div class="upload_box mod_upload" r-class="{close_upload: toggle}">\n    \x3c!-- 上传条 --\x3e\n    <div r-component="c-upload" r-replace="true" r-ref="uploader" \n        r-data="{\n            OMLink: OMLink;\n            parentPopup: parentPopup;\n        }"\n        r-methods="{\n            getFio: getFio;\n            onFileUploadStart: onFileUploadStart;\n            onFileSuccess: onFileSuccess;\n            onFileError: onFileError;\n        }"\n    ></div>\n\n    \x3c!-- 审核提示 --\x3e\n    \x3c!--<div class="upload_tips" r-show="{formStatus != \'saved\'}"><i class="icon_alert"></i><span class="tips_inner"><span r-text>{formTips}</span></span></div>--\x3e\n    <div class="upload_tips" style="margin: 0; background-color: #f4f4f4; border: none;"></div>\n\n    \x3c!-- 上传重复的提示 已经废弃 统一走pika 4025错误的新版提示 --\x3e\n    \x3c!--<div r-component="c-upload-repeat-err"\n         r-replace="true"\n         r-ref="upload-repeat-err"\n         r-data="{\n            isShow: status == \'repeat-err\';\n            repeatErr: repeatErr\n         }"\n    ></div>--\x3e\n\n    \x3c!-- 表单 --\x3e\n    <div class="upload_box_bd">\n        <div class="mod_upload_box_form cf" r-show="{formStatus != \'saved\'}">\n            <div class="mod_upload_box mod_upload_box_left">\n                <div r-component="c-video-category"\n                     r-replace="true"\n                     r-ref="videoCategory"\n                     r-methods="{onChange: onCategoryChange}"\n                ></div>\n\n                <div r-component="c-video-title" \n                    r-replace="true" \n                    r-ref="videoTitle" \n                    r-methods="{onChange: onTitleChange;onInput: onTitleInput}" \n                ></div>\n\n                <div r-component="c-video-tag"\n                     r-ref="videoTag"\n                     r-replace="true"\n                     r-methods="{onChange: onTagChange}"\n                ></div>\n\n                <div r-component="c-video-desc" \n                    r-replace="true"  \n                    r-ref="videoDesc" \n                    r-methods="{onChange: onDescChange;onInput: onDescInput}"\n                    r-data="{isRequire: isDescRequired}"\n                ></div>\n\n                <div r-component="c-video-pay"\n                     r-replace="true"\n                     r-ref="videoPay"\n                     r-methods="{onChange: onPayChange;}"\n                     r-show="false"\n                ></div>\n\n\x3c!--                 <div r-component="c-video-copyright"\n                     r-replace="true"\n                     r-ref="videoCopyright"\n                     r-methods="{onChange: onCopyrightChange}"\n                ></div> --\x3e\n\n                <div r-component="c-video-vr"\n                     r-replace="true"\n                     r-ref="videoVr"\n                     r-methods="{onChange: onVrChange}"\n                ></div>\n\n            </div>\n\n            <div class="mod_upload_box_right" style="">\n                <div r-component="c-video-preview"\n                     r-replace="true"\n                     r-ref="videoPreview"\n                     r-methods="{onChange: onPreviewChange}">\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- 保存按钮 --\x3e\n        <div class="row_center" r-show="{formStatus != \'saved\'}">\n            <span class="btns_txt"  r-style="{display: clicked && saveRequestStatus != \'pending\' && !status ? \'inline-block\' : \'none\'}" >\n                视频正在上传中，稍后为您自动保存\n            </span>\n            <a class="btn_submit" href="javascript:;" r-on="{click: onSave}" r-show="{saveRequestStatus == \'pending\'}">\n                <i class="icon-loader"></i>\n                <span>保存中</span>\n            </a>\n\n            <a class="btn_submit" href="javascript:;" r-on="{click: onSave}" r-show="{saveRequestStatus != \'pending\'}">\n                <span>保存</span>\n            </a>\n            <div class="upload_filed_radio " r-show="{isRequireManpub}">\n                <input type="checkbox" class="upload_filed_rdo" id="upload_filed_rdo_1" r-on="{click: setManpub}">\n                <label class="filed_radio_lbl filed_strong" for="upload_filed_rdo_1">稍后手动发布</label>\n                <div class="mod_explain" style="z-index: 1;">\n                    <i class="ico_question"></i>\n                    <div class="mod_explain_pop">\n                        <i class="triangle_up triangle_up_wrap"><i class="triangle_up"></i></i>\n                        <div class="explain_cont">\n                            <p class="explain_txt">1. 在您手动发布前，视频不会出现在腾讯视频站内的任何位置；</p>\n                            <p class="explain_txt">2. 勾选手动发布将不影响您上传视频的正常转码和审核；</p>\n                            <p class="explain_txt">3. 一旦您手动发布后，您的视频将在腾讯视频站内被公开和可被搜索到， 并可能被编辑采纳推荐。</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="mod_upload_complete cf" r-show="{formStatus == \'saved\'}">\n            <ul class="upload_complete_list">\n                <li class="list_item">\n                    <span class="label">标题：</span><span r-text>{title}</span>\n                </li>\n                <li class="list_item">\n                    <span class="label">分类：</span><span r-text>{newcat}</span> > <span r-text>{newsubcat}</span>\n                </li>\n                <li class="list_item">\n                    <span class="label">标签：</span><span r-text>{tags.join(\' \')}</span>\n                </li>\n                <li class="list_item">\n                    <span class="label">简介：</span><span r-text>{desc}</span>\n                </li>\n            </ul>\n            <ul class="upload_complete_list list_summary">\n                <li class="list_item" style="padding-left: 100px;"><span class="label">付费：</span><span r-text>{vidprice != 0 ? \'是\':\'否\'}</span></li>\n            </ul>\n        </div>\n        <div class="complete_option cf" r-show="{formStatus == \'saved\'}">\n            <a href="javascript:;" class="btn_redit btn_submit" r-on="{click: _onEdit}">&lt; 再修改一下</a>\n            <a href="//v.qq.com/u/videos" target="_blank" class="btn_goto btn_submit" >前往视频管理 &gt;</a>\n        </div>\n    </div>\n\n    \x3c!-- 展开收起 --\x3e\n    <div class="upload_box_ft" r-on="{click: onToggle}">\n        <div class="toggle_expand">\n            <span class="inner"><span r-text>{toggle ? "展开" : \'收起\'}</span></span><i class="arrow"></i>\n        </div>\n    </div>\n\n    <div r-component="c-tips-confirm" r-ref="dialog" class="om_scope"></div>\n</div> \n'},function(t,e){t.exports={2010:"您当前上传操作过于频繁，请稍后再试哦",2003:"您当前上传操作过于频繁，请稍后再试哦",92260002:"您当前网络环境有些糟糕，请稍后再尝试哦"}},function(t,e){t.exports='<div>\n    <div class="upload_status" r-show="{uploadingCount+doneCount+unsignCount+failCount > 0}">\n        正在上传<span class="txt"><span r-text>{uploadingCount}</span></span>个视频，已完成<span class="txt"><span r-text>{doneCount}</span></span>个...<span class="txt_alert">未填写资料<span class="txt"><span r-text>{unsignCount}</span></span>个，上传失败<span class="txt"><span r-text>{failCount}</span></span>个</span>\n        <a class="btn_addvideo" href="//v.qq.com/u/upload.html" target="_blank">\n            <span class="btn_inner"><i class="icon_add"></i>继续添加视频</span>\n        </a>\n        \x3c!--<div class="btn_addvideo _upload-panel-add" r-on="{click: _onAdd}" style="cursor: pointer;">--\x3e\n            \x3c!--<span class="btn_inner"><i class="icon_add"></i>继续添加视频</span>--\x3e\n        \x3c!--</div>--\x3e\n    </div>\n    <div r-show="{showNetworkStatus && uploadingCount+doneCount+unsignCount+failCount > 0}">\n        <div r-component="c-network"\n            r-replace="true"\n        ></div>\n    </div>\n    <div class="_upload-panel-queue"></div>\n    <div class="row_center" r-show="{uploadingCount+doneCount+unsignCount+failCount > 0}">\n        \x3c!--<div class="btn_addvideo" r-on="{click: _onAdd}" style="cursor: pointer;">--\x3e\n            \x3c!--<span class="btn_inner"><i class="icon_add"></i>继续添加视频</span>--\x3e\n        \x3c!--</div>--\x3e\n        <a class="btn_addvideo" href="//v.qq.com/u/upload.html" target="_blank">\n            <span class="btn_inner"><i class="icon_add"></i>继续添加视频</span>\n        </a>\n    </div>\n    <div r-show="{isShowRealNameTips}" class="approve_tip">尊敬的用户，您还没有进行实名认证，为了保证你的视频安全，<a href="//v.qq.com/u/realname.html">去实名认证<i class="arrow_right"><i class="inner"></i></i></a></div>\n    <div r-component="c-toast" r-ref="toast"></div>\n</div>\n'},function(t,e,n){"use strict";var i=n(9),a=n(2),o=n(12);window.beforUploadCheck||(window.beforUploadCheck={}),t.exports=i.component("c-tips-phone-bind",{template:n(72),data:function(){return{btnText:"知道了",iconType:"warning",title:"",subTitle:"",showDialog:!1,btnType:0,certificationstatus:-1}},ready:function(){this.dataset={canUserUpload:!0},this.initMsg()},methods:{checkRealName:function(){this.requestStatus()},requestStatus:function(t){t=t||{};var e=this;a.ajax({url:"//c.v.qq.com/vcertificationinfo?callback=?",dataType:"jsonp",data:{accounttype:txv.login.isQQLogin()?1:2,otype:"json"}}).done(function(n){if(n=n||{},"100001"==n.em)return void txv.login.openLogin();if(e.$data.certificationstatus=n.certificationstatus,e.dataset.resp=n,!n.special_white){var i="尊敬的用户，为了保证您的内容安全，请先对账号做实名信息认证。";!t.updateHTML&&t.hasOwnProperty("updateHTML")||(0==n.certificationstatus?(e.$data.title="未实名认证",e.$data.subTitle=i,e.$data.btnText="立即实名认证",e.$data.showDialog=!0,e.$data.btnType=1):1==n.certificationstatus?(e.$data.title="实名认证审核中",e.$data.subTitle=i,e.$data.btnText="查看实名认证状态",e.$data.showDialog=!0,e.$data.btnType=1):2==n.certificationstatus?e.$data.showDialog=!1:a.inArray(n.certificationstatus,[3,5,6,7])>-1&&(e.$data.title="实名认证失败",e.$data.subTitle=i,e.$data.btnText="重新实名认证",e.$data.showDialog=!0,e.$data.btnType=1)),2!=n.certificationstatus&&1==n.switchperiod?2==n.flagbindbefore?e.hideUpload():e.$data.subTitle="尊敬的用户，为了保证您的内容安全，建议在9月20日之前提交账号的实名认证信息。":2==n.switchperiod&&2!=n.certificationstatus&&e.hideUpload(),e.$update(),o.emit("realname:status:update",2!=n.certificationstatus)}}).fail(function(t,n){e.$data.title="查询实名认证结果失败",e.$data.subTitle="请刷新页面重试",e.$data.btnText="刷新",e.$data.showDialog=!0,e.$data.btnType=2,e.$update(),e.hideUpload()})},_onClose:function(){this.$data.showDialog=!1,this.$update()},_onReloadPage:function(){location.reload()},_onShowRealnameStatus:function(){location.href="//v.qq.com/u/realname.html"},hideUpload:function(){if(this.dataset.resp&&this.dataset.resp.special_white)return void(this.dataset.canUserUpload=!0);this.dataset.canUserUpload=!1},initMsg:function(){var t=this,e=function(){t.$data.certificationstatus>-1&&2==t.$data.certificationstatus&&(t.$data.showDialog=!0,t.$update())};o.on("checkRealname",function(){e()}),window.beforUploadCheck.isRealNamePass=function(){return t.dataset.canUserUpload},window.beforUploadCheck.showRealNameGuide=function(){t.$data.showDialog=!0,t.$update()}}}})},function(t,e){t.exports='<div class="x_modal x_modal_verify_ok" style="z-index: 100;" r-show="{showDialog}">\n    \x3c!--[if IE]><iframe src="about:blank" frameborder="0" class="x_iframe_mask"></iframe><![endif]--\x3e\n    <div class="x_modal_bd" style="padding:10px 30px 10px">\n        <a r-on="{click: _onClose}" class="x_close" title="关闭"><i class="x_iconfont x_icon_close"></i></a>\n        <div class="x_icon_line">\n            <i r-show="{iconType!=\'warning\'}" class="x_iconfont x_icon_check"></i>\n            <i r-show="{iconType==\'warning\'}" class="x_iconfont x_icon_warning"></i>\n        </div>\n        <h3 class="x_title">\n            <span r-text>{title}</span>\n        </h3>\n        <div class="x_desc">\n            <span r-text>{subTitle}</span>\n        </div>\n    </div>\n    <div class="x_modal_ft">\n        <a r-show="{btnType==1}" class="x_btn x_btn_primary" href="javascript:;" r-on="{click: _onShowRealnameStatus}">\n            <span r-text>{btnText}</span>\n        </a>\n        <a r-show="{btnType==2}" class="x_btn x_btn_primary" href="javascript:;" r-on="{click: _onReloadPage}">\n            <span r-text>{btnText}</span>\n        </a>\n    </div>\n</div>\n'},function(t,e){t.exports='<div>\n    <div r-component="c-upload-panel"\n         r-ref="uploadPanel"\n         r-replace="true"\n         r-methods="{\n            onClose: _onUploaderClose;\n            onSaveSuccess: _onSaveSuccess;\n         }"\n         r-data="{\n            disableSaveBeforeUploaded: disableSaveBeforeUploaded;\n            isDescRequired: isDescRequired;\n         }"\n         ></div>\n    <div r-component="c-toast" r-ref="toast"></div>\n    <div r-component="c-tips-phone-bind" r-ref="tipsPhoneBind"></div>\n</div>\n'}])});